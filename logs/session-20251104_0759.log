Script started on 2025-11-04 07:59:03+09:00 [TERM="xterm" TTY="/dev/pts/1" COLUMNS="90" LINES="46"]
bash: return: í•¨ìˆ˜ ë˜ëŠ” ì†ŒìŠ¤ëœ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ 'return' í•  ìˆ˜ ìžˆìŒ
[?2004h[onycom@master ~]$ 
[?2004lbash: return: í•¨ìˆ˜ ë˜ëŠ” ì†ŒìŠ¤ëœ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ 'return' í•  ìˆ˜ ìžˆìŒ
[?2004h[onycom@master ~]$ 
[?2004lbash: return: í•¨ìˆ˜ ë˜ëŠ” ì†ŒìŠ¤ëœ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ 'return' í•  ìˆ˜ ìžˆìŒ
[?2004h[onycom@master ~]$ cat .bashrc 
[?2004lbash: return: í•¨ìˆ˜ ë˜ëŠ” ì†ŒìŠ¤ëœ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ 'return' í•  ìˆ˜ ìžˆìŒ
# .bashrc

# Source global definitions
if [ -f /etc/bashrc ]; then
	. /etc/bashrc
fi

# User specific environment
if ! [[ "$PATH" =~ "$HOME/.local/bin:$HOME/bin:" ]]
then
    PATH="$HOME/.local/bin:$HOME/bin:$PATH"
fi
export PATH

# Uncomment the following line if you don't like systemctl's auto-paging feature:
# export SYSTEMD_PAGER=

# User specific aliases and functions
if [ -d ~/.bashrc.d ]; then
	for rc in ~/.bashrc.d/*; do
		if [ -f "$rc" ]; then
			. "$rc"
		fi
	done
fi

unset rc

# === per-command logger (ë¯¼ê°ì •ë³´ ë§ˆìŠ¤í‚¹) ===
LOG_DIR="$HOME/cka-study/logs"
mkdir -p "$LOG_DIR"
CMD_LOG="$LOG_DIR/commands-$(date +%Y%m%d).log"

_redact() {
  # í† í°/ë¹„ë²ˆ/í‚¤ ë¹„ìŠ·í•œ íŒ¨í„´ ë§ˆìŠ¤í‚¹
  sed -E \
    -e 's/(token|password|passwd|pwd|secret|apikey|api_key|Authorization|Bearer)[=: ]+[^ ]+/\1=****/Ig' \
    -e 's/(--password|-p)[= ]+[^ ]+/\1 ****/Ig' \
    -e 's/(id_ed25519|aws_secret_access_key|aws_access_key_id)[^ ]*/\1****/Ig'
}

# ížˆìŠ¤í† ë¦¬ ì˜µì…˜
export HISTTIMEFORMAT="%F %T  "
export HISTCONTROL=ignoredups:ignorespace
export PROMPT_COMMAND='history -a'

# ì§ì „ ëª…ë ¹ì„ ìº¡ì²˜í•´ íŒŒì¼ì— ëˆ„ì  (DEBUG íŠ¸ëž©)
trap 'RC=$?; CMD=$(history 1 | sed "s/^[ ]*[0-9]\+[ ]*//"); \
      echo "$(date "+%F %T") [$$] $(whoami)@$(hostname):$(pwd) -> $CMD" \
      | _redact >> "$CMD_LOG"; \
      return $RC' DEBUG

bash: return: í•¨ìˆ˜ ë˜ëŠ” ì†ŒìŠ¤ëœ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ 'return' í•  ìˆ˜ ìžˆìŒ
[?2004h[onycom@master ~]$ cat .bashrc sudo ./rhel9_u01_u70_fullcheck_v022a.sh[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cls[Ksudo ./rhel9_u01_u70_fullcheck_v022a.sh[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ccat .bashrc [K[Kcat .bashrc sudo ./rhel9_u01_u70_fullcheck_v022a.sh[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cls[Ksudo ./rhel9_u01_u70_fullcheck_v022a.sh[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ccat .bashrc [K[Kvi .bashrc
[?2004lbash: return: í•¨ìˆ˜ ë˜ëŠ” ì†ŒìŠ¤ëœ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ 'return' í•  ìˆ˜ ìžˆìŒ
[?1049h[22;0;0t[>4;2m[?1h=[?2004h[?1004h[1;46r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[46;1H".bashrc" 52L, 1344B[2;1Hâ–½[6n[2;1H  [3;1HPzz\[0%m[6n[3;1H           [1;1H[>c]10;?]11;?[1;1H[33mif ![m [35m[[[m [33m"[m[35m$PATH[m[33m"[m [33m=~[m [33m"[m[35m$HOME[m[31m/.local/bin:[m[35m$HOME[m[31m/bin:[m[33m"[m [35m]][m
[33mthen[m[2;5H[K[3;1H    [35mPATH[m[33m="[m[35m$HOME[m[31m/.local/bin:[m[35m$HOME[m[31m/bin:[m[35m$PATH[m[33m"[m[3;44H[K[4;1H[33mfi
export[m PATH

[34m# Uncomment the following line if you don't like systemctl's auto-paging feature:
# export SYSTEMD_PAGER=

# User specific aliases and functions[m
[33mif [[m [33m-d[m ~/.bashrc.d [33m];[m [33mthen[12;9Hfor[m rc [33min[m ~/.bashrc.d/*[33m;[m [33mdo[13;17Hif [[m [33m-f[m [33m"[m[35m$rc[m[33m"[m [33m];[m [33mthen[14;17H        . "[m[35m$rc[m[33m"[15;17Hfi[16;9Hdone
fi

unset[m[36m rc[m

[34m# === per-command logger (ë¯¼ê°ì •ë³´ ë§ˆìŠ¤í‚¹) ===[m
[36mLOG_DIR[m=[33m"[m[35m$HOME[m[31m/cka-study/logs[m[33m"
mkdir[m [35m-p[m [33m"[m[35m$LOG_DIR[m[33m"[m
[36mCMD_LOG[m=[33m"[m[35m$LOG_DIR[m[31m/commands-[m[35m$([m[35mdate +%Y%m%d[m[35m)[m[31m.log[m[33m"[m

[36m_redact() {[m
  [34m# í† í°/ë¹„ë²ˆ/í‚¤ ë¹„ìŠ·í•œ íŒ¨í„´ ë§ˆìŠ¤í‚¹[m
  [33msed[m [35m-E[m \
    [35m-e[m [33m'[m[31ms/(token|password|passwd|pwd|secret|apikey|api_key|Authorization|Bearer)[=: ]+[^ ]][30;1H+/\1=****/Ig[m[33m'[m \
    [35m-e[m [33m'[m[31ms/(--password|-p)[= ]+[^ ]+/\1 ****/Ig[m[33m'[m \
    [35m-e[m [33m'[m[31ms/(id_ed25519|aws_secret_access_key|aws_access_key_id)[^ ]*/\1****/Ig[m[33m'[m
[36m}[m

[34m# ížˆìŠ¤í† ë¦¬ ì˜µì…˜[m
[33mexport[m [36mHISTTIMEFORMAT[m=[33m"[m[31m%F %T  [m[33m"
export[m [36mHISTCONTROL[m=ignoredups:ignorespace
[33mexport[m [36mPROMPT_COMMAND[m=[33m'[m[31mhistory -a[m[33m'[m

[34m# ì§ì „ ëª…ë ¹ì„ ìº¡ì²˜í•´ íŒŒì¼ì— ëˆ„ì  (DEBUG íŠ¸ëž©)[m
[33mtrap[m [33m'[m[31mRC=$?; CMD=$(history 1 | sed "s/^[ ]*[0-9]\+[ ]*//"); \
      echo "$(date "+%F %T") [$$] $(whoami)@$(hostname):$(pwd) -> $CMD" \
      | _redact >> "$CMD_LOG"; \
      return $RC[m[33m'[m DEBUG[46;73H52,0-1[7Cë°”ë‹¥[45;1H[?25h[?25l[46;63H~@k[45;1H[46;63H   [44;1H[46;74H1,1  [44;1H[?25h[?25l[46;63H~@k[44;1H[46;63H   [43;1H[46;74H0[43;1H[?25h[?25l[46;63H~@k[43;1H[46;63H   [42;1H[46;73H49[42;1H[?25h[?25l[46;63H~@k[42;1H[46;63H   [41;1H[46;74H8[41;1H[?25h[?25l[46;63H~@k[41;1H[46;63H   [40;1H[46;74H7[40;1H[?25h[?25l[46;63H~@k[40;1H[46;63H   [39;1H[46;74H6,0-1[39;1H[?25h[?25l[46;63H~@k[39;1H[46;63H   [38;1H[46;74H5,1  [38;1H[?25h[?25l[46;63H~@k[38;1H[46;63H   [37;1H[46;74H4[37;1H[?25h[?25l[46;63H~@k[37;1H[46;63H   [36;1H[46;74H3[36;1H[?25h[?25l[46;63H~@k[36;1H[46;63H   [35;1H[46;74H2[35;1H[?25h[?25l[46;63H~@k[35;1H[46;63H   [34;1H[46;74H1,0-1[34;1H[?25h[?25l[46;63H~@k[34;1H[46;63H   [33;1H[26;11H[36m[46m{[33;1H}[m[46;74H0,1  [33;1H[?25h[?25l[46;63H~@k[33;1H[46;63H   [32;1H[26;11H[36m{[33;1H}[m[46;73H39[32;1H[?25h[?25l[46;63H~@k[32;1H[46;63H   [31;1H[46;74H8[31;1H[?25h[?25l[46;63H~@k[31;1H[46;63H   [29;1H[46;74H7[29;1H[?25h[?25l[46;63H~@k[29;1H[46;63H   [28;1H[46;74H6[28;1H[?25h[?25l[46;63H~@k[28;1H[46;63H   [27;1H[46;74H5[27;1H[?25h[?25l[46;63H~@k[27;1H[46;63H   [26;1H[46;74H4[26;1H[?25h[?25l[46;63H~@k[26;1H[46;63H   [25;1H[46;74H3,0-1[25;1H[?25h[?25l[46;63H~@k[25;1H[46;63H   [24;1H[46;74H2,1  [24;1H[?25h[?25l[46;63H~@k[24;1H[46;63H   [23;1H[46;74H1[23;1H[?25h[?25l[46;63H~@k[23;1H[46;63H   [22;1H[46;74H0[22;1H[?25h[?25l[46;63H~@k[22;1H[46;63H   [21;1H[46;73H29[21;1H[?25h[?25l[46;63H~@k[21;1H[46;63H   [20;1H[46;74H8,0-1[20;1H[?25h[?25l[46;63H~@k[20;1H[46;63H   [19;1H[46;74H7,1  [19;1H[?25h[?25l[46;63H~@k[19;1H[46;63H   [18;1H[46;74H6,0-1[18;1H[?25h[?25l[46;63H~@k[18;1H[46;63H   [17;1H[46;74H5,1  [17;1H[?25h[?25l[46;63H~@k[17;1H[46;63H   [16;8H[46;74H4,1-8[16;8H[?25h[?25l[46;63H~@k[16;8H[46;63H   [15;8H[46;74H3[15;8H[?25h[?25l[46;63H~@k[15;8H[46;63H   [14;8H[46;74H2[14;8H[?25h[?25l[46;63H~@k[14;8H[46;63H   [13;8H[46;74H1[13;8H[?25h[?25l[46;63H~@k[13;8H[46;63H   [12;8H[46;74H0[12;8H[?25h[?25l[46;63H~@k[12;8H[46;63H   [11;1H[46;73H19,1  [11;1H[?25h[?25l[46;63H~@k[11;1H[46;63H   [10;1H[46;74H8[10;1H[?25h[?25l[46;63H~@k[10;1H[46;63H   [9;1H[46;74H7,0-1[9;1H[?25h[?25l[46;63H~@k[9;1H[46;63H   [8;1H[46;74H6,1  [8;1H[?25h[?25l[46;63H~@k[8;1H[46;63H   [7;1H[46;74H5[7;1H[?25h[?25l[46;63H~@k[7;1H[46;63H   [6;1H[46;74H4,0-1[6;1H[?25h[?25l[46;63H~@k[6;1H[46;63H   [6;1H[1;45r[1;1H[L[1;46r[1;1H[34m# User specific environment[m[46;1H[K[46;73H13,1[10C87%[6;1H[?25h[?25l[46;63H~@k[6;1H[46;63H   [6;1H[1;45r[1;1H[L[1;46r[46;73H[K[46;73H12,1[10C75%[6;1H[?25h[?25l[46;63H~@k[6;1H[46;63H   [7;1H[46;74H3[7;1H[?25h[?25l[46;63H~@k[7;1H[46;63H   [8;1H[46;74H4,0-1[8;1H[?25h[?25l[46;63H~@k[8;1H[46;63H   [9;1H[46;74H5,1  [9;1H[?25h[?25l[46;63H~@k[9;1H[46;63H   [10;1H[46;74H6[10;1H[?25h[?25l[46;63H~@k[10;1H[46;63H   [11;1H[46;74H7,0-1[11;1H[?25h[?25l[46;63H~@k[11;1H[46;63H   [12;1H[46;74H8,1  [12;1H[?25h[?25l[46;63H~@k[12;1H[46;63H   [13;1H[46;74H9[13;1H[?25h[?25l[46;63H~@k[13;1H[46;63H   [14;8H[46;73H20,1-8[14;8H[?25h[?25l[46;63H~@k[14;8H[46;63H   [15;8H[46;74H1[15;8H[?25h[?25l[46;63H~@k[15;8H[46;63H   [16;8H[46;74H2[16;8H[?25h[?25l[46;63H~@k[16;8H[46;63H   [17;8H[46;74H3[17;8H[?25h[?25l[46;63H~@k[17;8H[46;63H   [18;8H[46;74H4[18;8H[?25h[?25l[46;63H~@k[18;8H[46;63H   [19;1H[46;74H5,1  [19;1H[?25h[?25l[46;63H~@k[19;1H[46;63H   [20;1H[46;74H6,0-1[20;1H[?25h[?25l[46;63H~@k[20;1H[46;63H   [21;1H[46;74H7,1  [21;1H[?25h[?25l[46;63H~@k[21;1H[46;63H   [22;1H[46;74H8,0-1[22;1H[?25h[?25l[46;63H~@k[22;1H[46;63H   [23;1H[46;74H9,1  [23;1H[?25h[?25l[46;63H~@k[23;1H[46;63H   [24;1H[46;73H30[24;1H[?25h[?25l[46;63H~@k[24;1H[46;63H   [25;1H[46;74H1[25;1H[?25h[?25l[46;63H~@k[25;1H[46;63H   [26;1H[46;74H2[26;1H[?25h[?25l[46;63H~@k[26;1H[46;63H   [27;1H[46;74H3,0-1[27;1H[?25h[?25l[46;63H~@k[27;1H[46;63H   [28;1H[46;74H4,1  [28;1H[?25h[?25l[46;63Hd[28;1H[?25h[?25l[46;64Hd[28;1H[46;63H  [28;3H[28;45r[45;1H
[1;46r[29;10H[33m\[31;15H\[32;49H\[m

[1m[37m[41m}[m[45;1H[31m      return $RC[m[33m'[m DEBUG[46;73H[K[46;73H34,3[10C85%[28;3H[?25h[?25l[46;63Hd[28;3H[?25h[?25l[46;64Hd[28;3H[46;63H  [28;3H[28;45r[45;1H
[1;46r[46;73H[K[46;73H34,3[9Cë°”ë‹¥[28;3H[?25h[?25l[46;63Hd[28;3H[?25h[?25l[46;64Hd[28;3H[46;63H  [28;5H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,5[9Cë°”ë‹¥[28;5H[?25h[?25l[46;63Hd[28;5H[?25h[?25l[46;64Hd[28;5H[46;63H  [28;5H[28;45r[28;1H[2M[1;46r[44;1H[1m[34m~                                                                                         [45;1H~                                                                                         [m[46;73H[K[46;73H34,5[9Cë°”ë‹¥[28;5H[?25h[?25l[46;63Hd[28;5H[?25h[?25l[46;64Hd[28;5H[46;63H  [28;5H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,5[9Cë°”ë‹¥[28;5H[?25h[?25l[46;63Hd[28;5H[?25h[?25l[46;64Hd[28;5H[46;63H  [28;1H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,1[9Cë°”ë‹¥[28;1H[?25h[?25l[46;63Hd[28;1H[?25h[?25l[46;63H [28;1H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,0-1[7Cë°”ë‹¥[28;1H[?25h[?25l[46;63Hd[28;1H[?25h[?25l[46;64Hd[28;1H[46;63H  [28;1H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,1[9Cë°”ë‹¥[28;1H[?25h[?25l[46;63Hd[28;1H[?25h[?25l[46;64Hd[28;1H[46;63H  [28;1H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,1[9Cë°”ë‹¥[28;1H[?25h[?25l[46;63Hd[28;1H[?25h[?25l[46;64Hd[28;1H[46;63H  [28;1H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,1[9Cë°”ë‹¥[28;1H[?25h[?25l[46;63Hd[28;1H[?25h[?25l[46;64Hd[28;1H[46;63H  [28;1H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,1[9Cë°”ë‹¥[28;1H[?25h[?25l[46;63Hd[28;1H[?25h[?25l[46;64Hd[28;1H[46;63H  [28;1H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,0-1[7Cë°”ë‹¥[28;1H[?25h[?25l[46;63Hd[28;1H[?25h[?25l[46;64Hd[28;1H[46;63H  [28;1H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,1[9Cë°”ë‹¥[28;1H[?25h[?25l[46;63Hd[28;1H[?25h[?25l[46;64Hd[28;1H[46;63H  [28;1H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,1[9Cë°”ë‹¥[28;1H[?25h[?25l[46;63Hd[28;1H[?25h[?25l[46;64Hd[28;1H[46;63H  [28;7H[28;45r[45;1H
[1;46r[28;1H      [33mecho[1C"[m[35m$([m[35mdate [m[33m"[6C"[m[35m)[2C$$[2C$([m[35mwhoami[m[35m)[1C$([m[35mhostname[m[35m)[1C$([m[33mpwd[m[35m)[4C$CMD[m[33m"[m[29;7H| _redact [33m>>[m [33m"[m[35m$CMD_LOG[m[33m"[m; [33m\[m
      [33mreturn[m [35m$RC[m[1C[31m DEBUG[m[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,7[9Cë°”ë‹¥[28;7H[?25h[?25l[46;63Hd[28;7H[?25h[?25l[46;64Hd[28;7H[46;63H  [28;7H[28;45r[45;1H
[1;46r[28;1H      [45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,7[9Cë°”ë‹¥[28;7H[?25h[?25l[46;63Hd[28;7H[?25h[?25l[46;64Hd[28;7H[46;63H  [28;7H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,7[9Cë°”ë‹¥[28;7H[?25h[?25l[46;63Hd[28;7H[?25h[?25l[46;64Hd[28;7H[46;63H  [28;1H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,0-1[7Cë°”ë‹¥[28;1H[?25h[?25l[46;63H~@k[28;1H[46;63H   [27;1H[46;74H3[27;1H[?25h[?25l[46;63H~@k[27;1H[46;63H   [26;1H[46;74H2,1  [26;1H[?25h[?25l[46;63Hd[26;1H[?25h[?25l[46;64Hd[26;1H[46;63H  [26;1H[26;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H32,0-1[7Cë°”ë‹¥[26;1H[?25h[?25l[46;63Ha[26;1H[46;63H [26;1H[46;1H[1m-- ë¼ì›Œë„£ê¸° --[m[46;73H[K[46;73H32,1[9Cë°”ë‹¥[26;1H[?25h[?25l[27;45r[27;1H[L[1;46r[46;13H[1m(ë¶™ì´ê¸°) --[m[46;73H[K[27;1H[?25h[?25l[28;45r[28;1H[L[1;46r[27;1H[34m# ì¼ìžë³„ ë¡œê·¸ íŒŒì¼[m
[36m_cmd_log_file() {[m [33mprintf[m [33m"[m[31m%s/commands-%s.[?25h[?25l[29;45r[m[29;1H[3L[1;46r[28;42H[31mlog[m[33m"[m [33m"[m[35m$LOG_DIR[m[33m"[m [33m"[m[35m$([m[35mdate +%Y%m%d[m[35m)[m[33m";[m [36m}

_redact() {[m
  [34m# í† í°/ë¹„[?25h[?25l[32;45r[m[32;1H[L[1;46r[31;12H[34më²ˆ/í‚¤ ìœ ì‚¬ íŒ¨í„´ ë§ˆìŠ¤í‚¹ (í•„ìš”ì‹œ ê·œì¹™ ì¶”ê°€)[m
  [33msed[m [35m-E[?25h[?25l[33;45r[m[33;1H[L[1;46r[32;10H\
    [35m-e[m [33m'[m[31ms/(token|password|passwd|pwd|secret|apikey|api_key|A[?25h[?25l[34;45r[m[34;1H[2L[1;46r[33;61H[31muthorization|Bearer)[=: ]+[^ ]][34;1H+/\1=****/Ig[m[33m'[m \
    [35m-e[m [33m'[m[31ms/(--pass[?25h[?25l[36;45r[m[36;1H[L[1;46r[35;18H[31mword|-p)[= ]+[^ ]+/\1 ****/Ig[m[33m'[m \
    [35m-e[m [33m'[m[31ms/(id_ed25519|aws_secr[?25h[?25l[37;45r[m[37;1H[3L[1;46r[36;31H[31met_access_key|aws_access_key_id)[^ ]*/\1****/Ig[m[33m'[m
[36m}[m

[34m# ížˆìŠ¤í† [?25h[?25l[40;45r[m[40;1H[2L[1;46r[39;9H[34më¦¬ ì˜µì…˜[m
[33mexport[m [36mHISTTIMEFORMAT[m=[33m"[m[31m%F %T  [m[33m"
export[m [36mHISTCONTROL[m=i[?25h[?25l[42;45r[42;1H[L[1;46r[41;21Hgnoredups:ignorespace
[34m# í”„ë¡¬í”„íŠ¸ë§ˆë‹¤ history íŒŒì¼ì— [?25h[?25lì¦‰ì‹œ ë°˜ì˜[m
[33mexport[m [36mPROMPT_COMMAND[m=[33m'[m[31mhistory -a[m[33m'[m[44;1H[K[45;1H[34m# ì§ì „ ëª…ë ¹[m[45;12H[K[1;45r[45;1H
[1;46r[44;12H[?25h[?25l[34mì„ ìº¡ì²˜í•´ íŒŒì¼ì— ëˆ„ì  (DEBUG íŠ¸ëž©)[m
[33mtrap[m [33m'[m[31m{[44;1H[?25h[?25l[1;45r[m[1;1H[3M[1;46r[43;1H[31m  rc=$?;
  # ê°€ìž¥ ìµœê·¼ ëª…ë ¹ë§Œ ì¶”ì¶œ
  cmd=$(history 1 | sed "s/^[44;29H[?25h[?25l[1;45r[m[45;1H
[1;46r[44;29H[31m[[:space:]]*[0-9]\+[[:space:]]*//");
  # ë¡œê·¸ ë¼ì¸ ìž‘ì„±[44;2H[?25h[?25l[1;45r[m[1;1H[2M[1;46r[44;1H[31m  printf "%s [%d] %s@%s:%s -> %s\n" \
    "$(date "+%F %T")" "$$[44;27H[?25h[?25l[1;45r[m[45;1H
[1;46r[44;27H[31m" "$(whoami)" "$(hostname)" "$PWD" "$cmd" \
  | _redact >> "$(_[44;20H[?25h[?25l[1;45r[m[45;1H
[1;46r[44;20H[31mcmd_log_file)";
  # ì£¼ì˜: ì—¬ê¸°ì„œ return/exit ì‚¬ìš© ê¸ˆì§€[44;39H[?25h[?25l[1;45r[m[1;1H[2M[1;46r[43;39H[31m (ìƒìœ„ ì‰˜)
};[m[33m'[m DEBUG[46;13H[1m-- ì´[m[46;15H[K[46;73H60,10[8Cë°”ë‹¥[44;10H[?25h[46;1H[K[44;9H[?25l[46;63H^[[44;9H[46;63H  [44;10H[46;73H60,9[9Cë°”ë‹¥[44;9H[?25h[?25l[46;63H:[44;9H[46;63H[K[46;1H:[?25hwq[?25l[?2004l[>4;m".bashrc" 61L, 1640B ì €ìž¥ í–ˆìŠµë‹ˆë‹¤[23;2t[23;1t
[?1004l[?2004l[?1l>[?25h[>4;m[?1049l[23;0;0tbash: return: í•¨ìˆ˜ ë˜ëŠ” ì†ŒìŠ¤ëœ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ 'return' í•  ìˆ˜ ìžˆìŒ
[?2004h[onycom@master ~]$ 
[?2004lbash: return: í•¨ìˆ˜ ë˜ëŠ” ì†ŒìŠ¤ëœ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ 'return' í•  ìˆ˜ ìžˆìŒ
[?2004h[onycom@master ~]$ [7msource ~/.bashrc[27m
[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Csource ~/.bashrc
[A
[?2004lbash: return: í•¨ìˆ˜ ë˜ëŠ” ì†ŒìŠ¤ëœ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ 'return' í•  ìˆ˜ ìžˆìŒ
[?2004h[onycom@master ~]$ 
[?2004l[?2004h[onycom@master ~]$ source ~/.bashrc[Kls
[?2004l+                                 [0m[01;34mrhel9_unix_check_20251025_213330[0m  webserver-pod.yaml
Results_2025-10-25_09:32:10.txt   [01;34mrhel9_unix_check_20251025_214240[0m  [01;34mê³µê°œ[0m
[01;32mRocky_Script.sh[0m                   [01;34mrhel9_unix_check_20251025_230724[0m  [01;34më‹¤ìš´ë¡œë“œ[0m
[01;34mcka-study[0m                         [01;34mrhel9_unix_check_20251025_235319[0m  [01;34më¬¸ì„œ[0m
[01;32mrhel9_u01_u70_fullcheck.sh[0m        [01;34mrhel9_unix_check_20251026_000320[0m  [01;34më°”íƒ•í™”ë©´[0m
[01;32mrhel9_u01_u70_fullcheck_v02.sh[0m    [01;34mrhel9_unix_check_20251102_221538[0m  [01;34më¹„ë””ì˜¤[0m
[01;32mrhel9_u01_u70_fullcheck_v021.sh[0m   [01;34mrhel9_unix_check_20251102_221642[0m  [01;34mì‚¬ì§„[0m
[01;32mrhel9_u01_u70_fullcheck_v022a.sh[0m  [01;34mrhel9_unix_check_20251102_221922[0m  [01;34mì„œì‹[0m
[01;34mrhel9_unix_check_20251025_211324[0m  token.txt                         [01;34mìŒì•…[0m
[?2004h[onycom@master ~]$ 
[?2004l[?2004h[onycom@master ~]$ 
[?2004l[?2004h[onycom@master ~]$ ls ~/cka-study/logs
[?2004lcommands-20251104.log  session-20251104_0759.log
[?2004h[onycom@master ~]$ cat ~/cka-study/logs/session-20251104_0759.log 
[?2004lScript started on 2025-11-04 07:59:03+09:00 [TERM="xterm" TTY="/dev/pts/1" COLUMNS="90" LINES="46"]
bash: return: í•¨ìˆ˜ ë˜ëŠ” ì†ŒìŠ¤ëœ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ 'return' í•  ìˆ˜ ìžˆìŒ
[?2004h[onycom@master ~]$ 
[?2004lbash: return: í•¨ìˆ˜ ë˜ëŠ” ì†ŒìŠ¤ëœ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ 'return' í•  ìˆ˜ ìžˆìŒ
[?2004h[onycom@master ~]$ 
[?2004lbash: return: í•¨ìˆ˜ ë˜ëŠ” ì†ŒìŠ¤ëœ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ 'return' í•  ìˆ˜ ìžˆìŒ
[?2004h[onycom@master ~]$ cat .bashrc 
[?2004lbash: return: í•¨ìˆ˜ ë˜ëŠ” ì†ŒìŠ¤ëœ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ 'return' í•  ìˆ˜ ìžˆìŒ
# .bashrc

# Source global definitions
if [ -f /etc/bashrc ]; then
	. /etc/bashrc
fi

# User specific environment
if ! [[ "$PATH" =~ "$HOME/.local/bin:$HOME/bin:" ]]
then
    PATH="$HOME/.local/bin:$HOME/bin:$PATH"
fi
export PATH

# Uncomment the following line if you don't like systemctl's auto-paging feature:
# export SYSTEMD_PAGER=

# User specific aliases and functions
if [ -d ~/.bashrc.d ]; then
	for rc in ~/.bashrc.d/*; do
		if [ -f "$rc" ]; then
			. "$rc"
		fi
	done
fi

unset rc

# === per-command logger (ë¯¼ê°ì •ë³´ ë§ˆìŠ¤í‚¹) ===
LOG_DIR="$HOME/cka-study/logs"
mkdir -p "$LOG_DIR"
CMD_LOG="$LOG_DIR/commands-$(date +%Y%m%d).log"

_redact() {
  # í† í°/ë¹„ë²ˆ/í‚¤ ë¹„ìŠ·í•œ íŒ¨í„´ ë§ˆìŠ¤í‚¹
  sed -E \
    -e 's/(token|password|passwd|pwd|secret|apikey|api_key|Authorization|Bearer)[=: ]+[^ ]+/\1=****/Ig' \
    -e 's/(--password|-p)[= ]+[^ ]+/\1 ****/Ig' \
    -e 's/(id_ed25519|aws_secret_access_key|aws_access_key_id)[^ ]*/\1****/Ig'
}

# ížˆìŠ¤í† ë¦¬ ì˜µì…˜
export HISTTIMEFORMAT="%F %T  "
export HISTCONTROL=ignoredups:ignorespace
export PROMPT_COMMAND='history -a'

# ì§ì „ ëª…ë ¹ì„ ìº¡ì²˜í•´ íŒŒì¼ì— ëˆ„ì  (DEBUG íŠ¸ëž©)
trap 'RC=$?; CMD=$(history 1 | sed "s/^[ ]*[0-9]\+[ ]*//"); \
      echo "$(date "+%F %T") [$$] $(whoami)@$(hostname):$(pwd) -> $CMD" \
      | _redact >> "$CMD_LOG"; \
      return $RC' DEBUG

bash: return: í•¨ìˆ˜ ë˜ëŠ” ì†ŒìŠ¤ëœ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ 'return' í•  ìˆ˜ ìžˆìŒ
[?2004h[onycom@master ~]$ cat .bashrc sudo ./rhel9_u01_u70_fullcheck_v022a.sh[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cls[Ksudo ./rhel9_u01_u70_fullcheck_v022a.sh[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ccat .bashrc [K[Kcat .bashrc sudo ./rhel9_u01_u70_fullcheck_v022a.sh[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cls[Ksudo ./rhel9_u01_u70_fullcheck_v022a.sh[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ccat .bashrc [K[Kvi .bashrc
[?2004lbash: return: í•¨ìˆ˜ ë˜ëŠ” ì†ŒìŠ¤ëœ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ 'return' í•  ìˆ˜ ìžˆìŒ
[?1049h[22;0;0t[>4;2m[?1h=[?2004h[?1004h[1;46r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[46;1H".bashrc" 52L, 1344B[2;1Hâ–½[6n[2;1H  [3;1HPzz\[0%m[6n[3;1H           [1;1H[>c]10;?]11;?[1;1H[33mif ![m [35m[[[m [33m"[m[35m$PATH[m[33m"[m [33m=~[m [33m"[m[35m$HOME[m[31m/.local/bin:[m[35m$HOME[m[31m/bin:[m[33m"[m [35m]][m
[33mthen[m[2;5H[K[3;1H    [35mPATH[m[33m="[m[35m$HOME[m[31m/.local/bin:[m[35m$HOME[m[31m/bin:[m[35m$PATH[m[33m"[m[3;44H[K[4;1H[33mfi
export[m PATH

[34m# Uncomment the following line if you don't like systemctl's auto-paging feature:
# export SYSTEMD_PAGER=

# User specific aliases and functions[m
[33mif [[m [33m-d[m ~/.bashrc.d [33m];[m [33mthen[12;9Hfor[m rc [33min[m ~/.bashrc.d/*[33m;[m [33mdo[13;17Hif [[m [33m-f[m [33m"[m[35m$rc[m[33m"[m [33m];[m [33mthen[14;17H        . "[m[35m$rc[m[33m"[15;17Hfi[16;9Hdone
fi

unset[m[36m rc[m

[34m# === per-command logger (ë¯¼ê°ì •ë³´ ë§ˆìŠ¤í‚¹) ===[m
[36mLOG_DIR[m=[33m"[m[35m$HOME[m[31m/cka-study/logs[m[33m"
mkdir[m [35m-p[m [33m"[m[35m$LOG_DIR[m[33m"[m
[36mCMD_LOG[m=[33m"[m[35m$LOG_DIR[m[31m/commands-[m[35m$([m[35mdate +%Y%m%d[m[35m)[m[31m.log[m[33m"[m

[36m_redact() {[m
  [34m# í† í°/ë¹„ë²ˆ/í‚¤ ë¹„ìŠ·í•œ íŒ¨í„´ ë§ˆìŠ¤í‚¹[m
  [33msed[m [35m-E[m \
    [35m-e[m [33m'[m[31ms/(token|password|passwd|pwd|secret|apikey|api_key|Authorization|Bearer)[=: ]+[^ ]][30;1H+/\1=****/Ig[m[33m'[m \
    [35m-e[m [33m'[m[31ms/(--password|-p)[= ]+[^ ]+/\1 ****/Ig[m[33m'[m \
    [35m-e[m [33m'[m[31ms/(id_ed25519|aws_secret_access_key|aws_access_key_id)[^ ]*/\1****/Ig[m[33m'[m
[36m}[m

[34m# ížˆìŠ¤í† ë¦¬ ì˜µì…˜[m
[33mexport[m [36mHISTTIMEFORMAT[m=[33m"[m[31m%F %T  [m[33m"
export[m [36mHISTCONTROL[m=ignoredups:ignorespace
[33mexport[m [36mPROMPT_COMMAND[m=[33m'[m[31mhistory -a[m[33m'[m

[34m# ì§ì „ ëª…ë ¹ì„ ìº¡ì²˜í•´ íŒŒì¼ì— ëˆ„ì  (DEBUG íŠ¸ëž©)[m
[33mtrap[m [33m'[m[31mRC=$?; CMD=$(history 1 | sed "s/^[ ]*[0-9]\+[ ]*//"); \
      echo "$(date "+%F %T") [$$] $(whoami)@$(hostname):$(pwd) -> $CMD" \
      | _redact >> "$CMD_LOG"; \
      return $RC[m[33m'[m DEBUG[46;73H52,0-1[7Cë°”ë‹¥[45;1H[?25h[?25l[46;63H~@k[45;1H[46;63H   [44;1H[46;74H1,1  [44;1H[?25h[?25l[46;63H~@k[44;1H[46;63H   [43;1H[46;74H0[43;1H[?25h[?25l[46;63H~@k[43;1H[46;63H   [42;1H[46;73H49[42;1H[?25h[?25l[46;63H~@k[42;1H[46;63H   [41;1H[46;74H8[41;1H[?25h[?25l[46;63H~@k[41;1H[46;63H   [40;1H[46;74H7[40;1H[?25h[?25l[46;63H~@k[40;1H[46;63H   [39;1H[46;74H6,0-1[39;1H[?25h[?25l[46;63H~@k[39;1H[46;63H   [38;1H[46;74H5,1  [38;1H[?25h[?25l[46;63H~@k[38;1H[46;63H   [37;1H[46;74H4[37;1H[?25h[?25l[46;63H~@k[37;1H[46;63H   [36;1H[46;74H3[36;1H[?25h[?25l[46;63H~@k[36;1H[46;63H   [35;1H[46;74H2[35;1H[?25h[?25l[46;63H~@k[35;1H[46;63H   [34;1H[46;74H1,0-1[34;1H[?25h[?25l[46;63H~@k[34;1H[46;63H   [33;1H[26;11H[36m[46m{[33;1H}[m[46;74H0,1  [33;1H[?25h[?25l[46;63H~@k[33;1H[46;63H   [32;1H[26;11H[36m{[33;1H}[m[46;73H39[32;1H[?25h[?25l[46;63H~@k[32;1H[46;63H   [31;1H[46;74H8[31;1H[?25h[?25l[46;63H~@k[31;1H[46;63H   [29;1H[46;74H7[29;1H[?25h[?25l[46;63H~@k[29;1H[46;63H   [28;1H[46;74H6[28;1H[?25h[?25l[46;63H~@k[28;1H[46;63H   [27;1H[46;74H5[27;1H[?25h[?25l[46;63H~@k[27;1H[46;63H   [26;1H[46;74H4[26;1H[?25h[?25l[46;63H~@k[26;1H[46;63H   [25;1H[46;74H3,0-1[25;1H[?25h[?25l[46;63H~@k[25;1H[46;63H   [24;1H[46;74H2,1  [24;1H[?25h[?25l[46;63H~@k[24;1H[46;63H   [23;1H[46;74H1[23;1H[?25h[?25l[46;63H~@k[23;1H[46;63H   [22;1H[46;74H0[22;1H[?25h[?25l[46;63H~@k[22;1H[46;63H   [21;1H[46;73H29[21;1H[?25h[?25l[46;63H~@k[21;1H[46;63H   [20;1H[46;74H8,0-1[20;1H[?25h[?25l[46;63H~@k[20;1H[46;63H   [19;1H[46;74H7,1  [19;1H[?25h[?25l[46;63H~@k[19;1H[46;63H   [18;1H[46;74H6,0-1[18;1H[?25h[?25l[46;63H~@k[18;1H[46;63H   [17;1H[46;74H5,1  [17;1H[?25h[?25l[46;63H~@k[17;1H[46;63H   [16;8H[46;74H4,1-8[16;8H[?25h[?25l[46;63H~@k[16;8H[46;63H   [15;8H[46;74H3[15;8H[?25h[?25l[46;63H~@k[15;8H[46;63H   [14;8H[46;74H2[14;8H[?25h[?25l[46;63H~@k[14;8H[46;63H   [13;8H[46;74H1[13;8H[?25h[?25l[46;63H~@k[13;8H[46;63H   [12;8H[46;74H0[12;8H[?25h[?25l[46;63H~@k[12;8H[46;63H   [11;1H[46;73H19,1  [11;1H[?25h[?25l[46;63H~@k[11;1H[46;63H   [10;1H[46;74H8[10;1H[?25h[?25l[46;63H~@k[10;1H[46;63H   [9;1H[46;74H7,0-1[9;1H[?25h[?25l[46;63H~@k[9;1H[46;63H   [8;1H[46;74H6,1  [8;1H[?25h[?25l[46;63H~@k[8;1H[46;63H   [7;1H[46;74H5[7;1H[?25h[?25l[46;63H~@k[7;1H[46;63H   [6;1H[46;74H4,0-1[6;1H[?25h[?25l[46;63H~@k[6;1H[46;63H   [6;1H[1;45r[1;1H[L[1;46r[1;1H[34m# User specific environment[m[46;1H[K[46;73H13,1[10C87%[6;1H[?25h[?25l[46;63H~@k[6;1H[46;63H   [6;1H[1;45r[1;1H[L[1;46r[46;73H[K[46;73H12,1[10C75%[6;1H[?25h[?25l[46;63H~@k[6;1H[46;63H   [7;1H[46;74H3[7;1H[?25h[?25l[46;63H~@k[7;1H[46;63H   [8;1H[46;74H4,0-1[8;1H[?25h[?25l[46;63H~@k[8;1H[46;63H   [9;1H[46;74H5,1  [9;1H[?25h[?25l[46;63H~@k[9;1H[46;63H   [10;1H[46;74H6[10;1H[?25h[?25l[46;63H~@k[10;1H[46;63H   [11;1H[46;74H7,0-1[11;1H[?25h[?25l[46;63H~@k[11;1H[46;63H   [12;1H[46;74H8,1  [12;1H[?25h[?25l[46;63H~@k[12;1H[46;63H   [13;1H[46;74H9[13;1H[?25h[?25l[46;63H~@k[13;1H[46;63H   [14;8H[46;73H20,1-8[14;8H[?25h[?25l[46;63H~@k[14;8H[46;63H   [15;8H[46;74H1[15;8H[?25h[?25l[46;63H~@k[15;8H[46;63H   [16;8H[46;74H2[16;8H[?25h[?25l[46;63H~@k[16;8H[46;63H   [17;8H[46;74H3[17;8H[?25h[?25l[46;63H~@k[17;8H[46;63H   [18;8H[46;74H4[18;8H[?25h[?25l[46;63H~@k[18;8H[46;63H   [19;1H[46;74H5,1  [19;1H[?25h[?25l[46;63H~@k[19;1H[46;63H   [20;1H[46;74H6,0-1[20;1H[?25h[?25l[46;63H~@k[20;1H[46;63H   [21;1H[46;74H7,1  [21;1H[?25h[?25l[46;63H~@k[21;1H[46;63H   [22;1H[46;74H8,0-1[22;1H[?25h[?25l[46;63H~@k[22;1H[46;63H   [23;1H[46;74H9,1  [23;1H[?25h[?25l[46;63H~@k[23;1H[46;63H   [24;1H[46;73H30[24;1H[?25h[?25l[46;63H~@k[24;1H[46;63H   [25;1H[46;74H1[25;1H[?25h[?25l[46;63H~@k[25;1H[46;63H   [26;1H[46;74H2[26;1H[?25h[?25l[46;63H~@k[26;1H[46;63H   [27;1H[46;74H3,0-1[27;1H[?25h[?25l[46;63H~@k[27;1H[46;63H   [28;1H[46;74H4,1  [28;1H[?25h[?25l[46;63Hd[28;1H[?25h[?25l[46;64Hd[28;1H[46;63H  [28;3H[28;45r[45;1H
[1;46r[29;10H[33m\[31;15H\[32;49H\[m

[1m[37m[41m}[m[45;1H[31m      return $RC[m[33m'[m DEBUG[46;73H[K[46;73H34,3[10C85%[28;3H[?25h[?25l[46;63Hd[28;3H[?25h[?25l[46;64Hd[28;3H[46;63H  [28;3H[28;45r[45;1H
[1;46r[46;73H[K[46;73H34,3[9Cë°”ë‹¥[28;3H[?25h[?25l[46;63Hd[28;3H[?25h[?25l[46;64Hd[28;3H[46;63H  [28;5H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,5[9Cë°”ë‹¥[28;5H[?25h[?25l[46;63Hd[28;5H[?25h[?25l[46;64Hd[28;5H[46;63H  [28;5H[28;45r[28;1H[2M[1;46r[44;1H[1m[34m~                                                                                         [45;1H~                                                                                         [m[46;73H[K[46;73H34,5[9Cë°”ë‹¥[28;5H[?25h[?25l[46;63Hd[28;5H[?25h[?25l[46;64Hd[28;5H[46;63H  [28;5H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,5[9Cë°”ë‹¥[28;5H[?25h[?25l[46;63Hd[28;5H[?25h[?25l[46;64Hd[28;5H[46;63H  [28;1H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,1[9Cë°”ë‹¥[28;1H[?25h[?25l[46;63Hd[28;1H[?25h[?25l[46;63H [28;1H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,0-1[7Cë°”ë‹¥[28;1H[?25h[?25l[46;63Hd[28;1H[?25h[?25l[46;64Hd[28;1H[46;63H  [28;1H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,1[9Cë°”ë‹¥[28;1H[?25h[?25l[46;63Hd[28;1H[?25h[?25l[46;64Hd[28;1H[46;63H  [28;1H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,1[9Cë°”ë‹¥[28;1H[?25h[?25l[46;63Hd[28;1H[?25h[?25l[46;64Hd[28;1H[46;63H  [28;1H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,1[9Cë°”ë‹¥[28;1H[?25h[?25l[46;63Hd[28;1H[?25h[?25l[46;64Hd[28;1H[46;63H  [28;1H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,1[9Cë°”ë‹¥[28;1H[?25h[?25l[46;63Hd[28;1H[?25h[?25l[46;64Hd[28;1H[46;63H  [28;1H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,0-1[7Cë°”ë‹¥[28;1H[?25h[?25l[46;63Hd[28;1H[?25h[?25l[46;64Hd[28;1H[46;63H  [28;1H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,1[9Cë°”ë‹¥[28;1H[?25h[?25l[46;63Hd[28;1H[?25h[?25l[46;64Hd[28;1H[46;63H  [28;1H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,1[9Cë°”ë‹¥[28;1H[?25h[?25l[46;63Hd[28;1H[?25h[?25l[46;64Hd[28;1H[46;63H  [28;7H[28;45r[45;1H
[1;46r[28;1H      [33mecho[1C"[m[35m$([m[35mdate [m[33m"[6C"[m[35m)[2C$$[2C$([m[35mwhoami[m[35m)[1C$([m[35mhostname[m[35m)[1C$([m[33mpwd[m[35m)[4C$CMD[m[33m"[m[29;7H| _redact [33m>>[m [33m"[m[35m$CMD_LOG[m[33m"[m; [33m\[m
      [33mreturn[m [35m$RC[m[1C[31m DEBUG[m[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,7[9Cë°”ë‹¥[28;7H[?25h[?25l[46;63Hd[28;7H[?25h[?25l[46;64Hd[28;7H[46;63H  [28;7H[28;45r[45;1H
[1;46r[28;1H      [45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,7[9Cë°”ë‹¥[28;7H[?25h[?25l[46;63Hd[28;7H[?25h[?25l[46;64Hd[28;7H[46;63H  [28;7H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,7[9Cë°”ë‹¥[28;7H[?25h[?25l[46;63Hd[28;7H[?25h[?25l[46;64Hd[28;7H[46;63H  [28;1H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,0-1[7Cë°”ë‹¥[28;1H[?25h[?25l[46;63H~@k[28;1H[46;63H   [27;1H[46;74H3[27;1H[?25h[?25l[46;63H~@k[27;1H[46;63H   [26;1H[46;74H2,1  [26;1H[?25h[?25l[46;63Hd[26;1H[?25h[?25l[46;64Hd[26;1H[46;63H  [26;1H[26;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H32,0-1[7Cë°”ë‹¥[26;1H[?25h[?25l[46;63Ha[26;1H[46;63H [26;1H[46;1H[1m-- ë¼ì›Œë„£ê¸° --[m[46;73H[K[46;73H32,1[9Cë°”ë‹¥[26;1H[?25h[?25l[27;45r[27;1H[L[1;46r[46;13H[1m(ë¶™ì´ê¸°) --[m[46;73H[K[27;1H[?25h[?25l[28;45r[28;1H[L[1;46r[27;1H[34m# ì¼ìžë³„ ë¡œê·¸ íŒŒì¼[m
[36m_cmd_log_file() {[m [33mprintf[m [33m"[m[31m%s/commands-%s.[?25h[?25l[29;45r[m[29;1H[3L[1;46r[28;42H[31mlog[m[33m"[m [33m"[m[35m$LOG_DIR[m[33m"[m [33m"[m[35m$([m[35mdate +%Y%m%d[m[35m)[m[33m";[m [36m}

_redact() {[m
  [34m# í† í°/ë¹„[?25h[?25l[32;45r[m[32;1H[L[1;46r[31;12H[34më²ˆ/í‚¤ ìœ ì‚¬ íŒ¨í„´ ë§ˆìŠ¤í‚¹ (í•„ìš”ì‹œ ê·œì¹™ ì¶”ê°€)[m
  [33msed[m [35m-E[?25h[?25l[33;45r[m[33;1H[L[1;46r[32;10H\
    [35m-e[m [33m'[m[31ms/(token|password|passwd|pwd|secret|apikey|api_key|A[?25h[?25l[34;45r[m[34;1H[2L[1;46r[33;61H[31muthorization|Bearer)[=: ]+[^ ]][34;1H+/\1=****/Ig[m[33m'[m \
    [35m-e[m [33m'[m[31ms/(--pass[?25h[?25l[36;45r[m[36;1H[L[1;46r[35;18H[31mword|-p)[= ]+[^ ]+/\1 ****/Ig[m[33m'[m \
    [35m-e[m [33m'[m[31ms/(id_ed25519|aws_secr[?25h[?25l[37;45r[m[37;1H[3L[1;46r[36;31H[31met_access_key|aws_access_key_id)[^ ]*/\1****/Ig[m[33m'[m
[36m}[m

[34m# ížˆìŠ¤í† [?25h[?25l[40;45r[m[40;1H[2L[1;46r[39;9H[34më¦¬ ì˜µì…˜[m
[33mexport[m [36mHISTTIMEFORMAT[m=[33m"[m[31m%F %T  [m[33m"
export[m [36mHISTCONTROL[m=i[?25h[?25l[42;45r[42;1H[L[1;46r[41;21Hgnoredups:ignorespace
[34m# í”„ë¡¬í”„íŠ¸ë§ˆë‹¤ history íŒŒì¼ì— [?25h[?25lì¦‰ì‹œ ë°˜ì˜[m
[33mexport[m [36mPROMPT_COMMAND[m=[33m'[m[31mhistory -a[m[33m'[m[44;1H[K[45;1H[34m# ì§ì „ ëª…ë ¹[m[45;12H[K[1;45r[45;1H
[1;46r[44;12H[?25h[?25l[34mì„ ìº¡ì²˜í•´ íŒŒì¼ì— ëˆ„ì  (DEBUG íŠ¸ëž©)[m
[33mtrap[m [33m'[m[31m{[44;1H[?25h[?25l[1;45r[m[1;1H[3M[1;46r[43;1H[31m  rc=$?;
  # ê°€ìž¥ ìµœê·¼ ëª…ë ¹ë§Œ ì¶”ì¶œ
  cmd=$(history 1 | sed "s/^[44;29H[?25h[?25l[1;45r[m[45;1H
[1;46r[44;29H[31m[[:space:]]*[0-9]\+[[:space:]]*//");
  # ë¡œê·¸ ë¼ì¸ ìž‘ì„±[44;2H[?25h[?25l[1;45r[m[1;1H[2M[1;46r[44;1H[31m  printf "%s [%d] %s@%s:%s -> %s\n" \
    "$(date "+%F %T")" "$$[44;27H[?25h[?25l[1;45r[m[45;1H
[1;46r[44;27H[31m" "$(whoami)" "$(hostname)" "$PWD" "$cmd" \
  | _redact >> "$(_[44;20H[?25h[?25l[1;45r[m[45;1H
[1;46r[44;20H[31mcmd_log_file)";
  # ì£¼ì˜: ì—¬ê¸°ì„œ return/exit ì‚¬ìš© ê¸ˆì§€[44;39H[?25h[?25l[1;45r[m[1;1H[2M[1;46r[43;39H[31m (ìƒìœ„ ì‰˜)
};[m[33m'[m DEBUG[46;13H[1m-- ì´[m[46;15H[K[46;73H60,10[8Cë°”ë‹¥[44;10H[?25h[46;1H[K[44;9H[?25l[46;63H^[[44;9H[46;63H  [44;10H[46;73H60,9[9Cë°”ë‹¥[44;9H[?25h[?25l[46;63H:[44;9H[46;63H[K[46;1H:[?25hwq[?25l[?2004l[>4;m".bashrc" 61L, 1640B ì €ìž¥ í–ˆìŠµë‹ˆë‹¤[23;2t[23;1t
[?1004l[?2004l[?1l>[?25h[>4;m[?1049l[23;0;0tbash: return: í•¨ìˆ˜ ë˜ëŠ” ì†ŒìŠ¤ëœ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ 'return' í•  ìˆ˜ ìžˆìŒ
[?2004h[onycom@master ~]$ 
[?2004lbash: return: í•¨ìˆ˜ ë˜ëŠ” ì†ŒìŠ¤ëœ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ 'return' í•  ìˆ˜ ìžˆìŒ
[?2004h[onycom@master ~]$ [7msource ~/.bashrc[27m
[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Csource ~/.bashrc
[A
[?2004lbash: return: í•¨ìˆ˜ ë˜ëŠ” ì†ŒìŠ¤ëœ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ 'return' í•  ìˆ˜ ìžˆìŒ
[?2004h[onycom@master ~]$ 
[?2004l[?2004h[onycom@master ~]$ source ~/.bashrc[Kls
[?2004l+                                 [0m[01;34mrhel9_unix_check_20251025_213330[0m  webserver-pod.yaml
Results_2025-10-25_09:32:10.txt   [01;34mrhel9_unix_check_20251025_214240[0m  [01;34mê³µê°œ[0m
[01;32mRocky_Script.sh[0m                   [01;34mrhel9_unix_check_20251025_230724[0m  [01;34më‹¤ìš´ë¡œë“œ[0m
[01;34mcka-study[0m                         [01;34mrhel9_unix_check_20251025_235319[0m  [01;34më¬¸ì„œ[0m
[01;32mrhel9_u01_u70_fullcheck.sh[0m        [01;34mrhel9_unix_check_20251026_000320[0m  [01;34më°”íƒ•í™”ë©´[0m
[01;32mrhel9_u01_u70_fullcheck_v02.sh[0m    [01;34mrhel9_unix_check_20251102_221538[0m  [01;34më¹„ë””ì˜¤[0m
[01;32mrhel9_u01_u70_fullcheck_v021.sh[0m   [01;34mrhel9_unix_check_20251102_221642[0m  [01;34mì‚¬ì§„[0m
[01;32mrhel9_u01_u70_fullcheck_v022a.sh[0m  [01;34mrhel9_unix_check_20251102_221922[0m  [01;34mì„œì‹[0m
[01;34mrhel9_unix_check_20251025_211324[0m  token.txt                         [01;34mìŒì•…[0m
[?2004h[onycom@master ~]$ 
[?2004l[?2004h[onycom@master ~]$ 
[?2004l[?2004h[onycom@master ~]$ ls ~/cka-study/logs
[?2004lcommands-20251104.log  session-20251104_0759.log
[?2004h[onycom@master ~]$ cat ~/cka-study/logs/session-20251104_0759.log 
[?2004lScript started on 2025-11-04 07:59:03+09:00 [TERM="xterm" TTY="/dev/pts/1" COLUMNS="90" LINES="46"]
bash: return: í•¨ìˆ˜ ë˜ëŠ” ì†ŒìŠ¤ëœ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ 'return' í•  ìˆ˜ ìžˆìŒ
[?2004h[onycom@master ~]$ 
[?2004lbash: return: í•¨ìˆ˜ ë˜ëŠ” ì†ŒìŠ¤ëœ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ 'return' í•  ìˆ˜ ìžˆìŒ
[?2004h[onycom@master ~]$ 
[?2004lbash: return: í•¨ìˆ˜ ë˜ëŠ” ì†ŒìŠ¤ëœ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ 'return' í•  ìˆ˜ ìžˆìŒ
[?2004h[onycom@master ~]$ cat .bashrc 
[?2004lbash: return: í•¨ìˆ˜ ë˜ëŠ” ì†ŒìŠ¤ëœ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ 'return' í•  ìˆ˜ ìžˆìŒ
# .bashrc

# Source global definitions
if [ -f /etc/bashrc ]; then
	. /etc/bashrc
fi

# User specific environment
if ! [[ "$PATH" =~ "$HOME/.local/bin:$HOME/bin:" ]]
then
    PATH="$HOME/.local/bin:$HOME/bin:$PATH"
fi
export PATH

# Uncomment the following line if you don't like systemctl's auto-paging feature:
# export SYSTEMD_PAGER=

# User specific aliases and functions
if [ -d ~/.bashrc.d ]; then
	for rc in ~/.bashrc.d/*; do
		if [ -f "$rc" ]; then
			. "$rc"
		fi
	done
fi

unset rc

# === per-command logger (ë¯¼ê°ì •ë³´ ë§ˆìŠ¤í‚¹) ===
LOG_DIR="$HOME/cka-study/logs"
mkdir -p "$LOG_DIR"
CMD_LOG="$LOG_DIR/commands-$(date +%Y%m%d).log"

_redact() {
  # í† í°/ë¹„ë²ˆ/í‚¤ ë¹„ìŠ·í•œ íŒ¨í„´ ë§ˆìŠ¤í‚¹
  sed -E \
    -e 's/(token|password|passwd|pwd|secret|apikey|api_key|Authorization|Bearer)[=: ]+[^ ]+/\1=****/Ig' \
    -e 's/(--password|-p)[= ]+[^ ]+/\1 ****/Ig' \
    -e 's/(id_ed25519|aws_secret_access_key|aws_access_key_id)[^ ]*/\1****/Ig'
}

# ížˆìŠ¤í† ë¦¬ ì˜µì…˜
export HISTTIMEFORMAT="%F %T  "
export HISTCONTROL=ignoredups:ignorespace
export PROMPT_COMMAND='history -a'

# ì§ì „ ëª…ë ¹ì„ ìº¡ì²˜í•´ íŒŒì¼ì— ëˆ„ì  (DEBUG íŠ¸ëž©)
trap 'RC=$?; CMD=$(history 1 | sed "s/^[ ]*[0-9]\+[ ]*//"); \
      echo "$(date "+%F %T") [$$] $(whoami)@$(hostname):$(pwd) -> $CMD" \
      | _redact >> "$CMD_LOG"; \
      return $RC' DEBUG

bash: return: í•¨ìˆ˜ ë˜ëŠ” ì†ŒìŠ¤ëœ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ 'return' í•  ìˆ˜ ìžˆìŒ
[?2004h[onycom@master ~]$ cat .bashrc sudo ./rhel9_u01_u70_fullcheck_v022a.sh[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cls[Ksudo ./rhel9_u01_u70_fullcheck_v022a.sh[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ccat .bashrc [K[Kcat .bashrc sudo ./rhel9_u01_u70_fullcheck_v022a.sh[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cls[Ksudo ./rhel9_u01_u70_fullcheck_v022a.sh[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ccat .bashrc [K[Kvi .bashrc
[?2004lbash: return: í•¨ìˆ˜ ë˜ëŠ” ì†ŒìŠ¤ëœ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ 'return' í•  ìˆ˜ ìžˆìŒ
[?1049h[22;0;0t[>4;2m[?1h=[?2004h[?1004h[1;46r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[46;1H".bashrc" 52L, 1344B[2;1Hâ–½[6n[2;1H  [3;1HPzz\[0%m[6n[3;1H           [1;1H[>c]10;?]11;?[1;1H[33mif ![m [35m[[[m [33m"[m[35m$PATH[m[33m"[m [33m=~[m [33m"[m[35m$HOME[m[31m/.local/bin:[m[35m$HOME[m[31m/bin:[m[33m"[m [35m]][m
[33mthen[m[2;5H[K[3;1H    [35mPATH[m[33m="[m[35m$HOME[m[31m/.local/bin:[m[35m$HOME[m[31m/bin:[m[35m$PATH[m[33m"[m[3;44H[K[4;1H[33mfi
export[m PATH

[34m# Uncomment the following line if you don't like systemctl's auto-paging feature:
# export SYSTEMD_PAGER=

# User specific aliases and functions[m
[33mif [[m [33m-d[m ~/.bashrc.d [33m];[m [33mthen[12;9Hfor[m rc [33min[m ~/.bashrc.d/*[33m;[m [33mdo[13;17Hif [[m [33m-f[m [33m"[m[35m$rc[m[33m"[m [33m];[m [33mthen[14;17H        . "[m[35m$rc[m[33m"[15;17Hfi[16;9Hdone
fi

unset[m[36m rc[m

[34m# === per-command logger (ë¯¼ê°ì •ë³´ ë§ˆìŠ¤í‚¹) ===[m
[36mLOG_DIR[m=[33m"[m[35m$HOME[m[31m/cka-study/logs[m[33m"
mkdir[m [35m-p[m [33m"[m[35m$LOG_DIR[m[33m"[m
[36mCMD_LOG[m=[33m"[m[35m$LOG_DIR[m[31m/commands-[m[35m$([m[35mdate +%Y%m%d[m[35m)[m[31m.log[m[33m"[m

[36m_redact() {[m
  [34m# í† í°/ë¹„ë²ˆ/í‚¤ ë¹„ìŠ·í•œ íŒ¨í„´ ë§ˆìŠ¤í‚¹[m
  [33msed[m [35m-E[m \
    [35m-e[m [33m'[m[31ms/(token|password|passwd|pwd|secret|apikey|api_key|Authorization|Bearer)[=: ]+[^ ]][30;1H+/\1=****/Ig[m[33m'[m \
    [35m-e[m [33m'[m[31ms/(--password|-p)[= ]+[^ ]+/\1 ****/Ig[m[33m'[m \
    [35m-e[m [33m'[m[31ms/(id_ed25519|aws_secret_access_key|aws_access_key_id)[^ ]*/\1****/Ig[m[33m'[m
[36m}[m

[34m# ížˆìŠ¤í† ë¦¬ ì˜µì…˜[m
[33mexport[m [36mHISTTIMEFORMAT[m=[33m"[m[31m%F %T  [m[33m"
export[m [36mHISTCONTROL[m=ignoredups:ignorespace
[33mexport[m [36mPROMPT_COMMAND[m=[33m'[m[31mhistory -a[m[33m'[m

[34m# ì§ì „ ëª…ë ¹ì„ ìº¡ì²˜í•´ íŒŒì¼ì— ëˆ„ì  (DEBUG íŠ¸ëž©)[m
[33mtrap[m [33m'[m[31mRC=$?; CMD=$(history 1 | sed "s/^[ ]*[0-9]\+[ ]*//"); \
      echo "$(date "+%F %T") [$$] $(whoami)@$(hostname):$(pwd) -> $CMD" \
      | _redact >> "$CMD_LOG"; \
      return $RC[m[33m'[m DEBUG[46;73H52,0-1[7Cë°”ë‹¥[45;1H[?25h[?25l[46;63H~@k[45;1H[46;63H   [44;1H[46;74H1,1  [44;1H[?25h[?25l[46;63H~@k[44;1H[46;63H   [43;1H[46;74H0[43;1H[?25h[?25l[46;63H~@k[43;1H[46;63H   [42;1H[46;73H49[42;1H[?25h[?25l[46;63H~@k[42;1H[46;63H   [41;1H[46;74H8[41;1H[?25h[?25l[46;63H~@k[41;1H[46;63H   [40;1H[46;74H7[40;1H[?25h[?25l[46;63H~@k[40;1H[46;63H   [39;1H[46;74H6,0-1[39;1H[?25h[?25l[46;63H~@k[39;1H[46;63H   [38;1H[46;74H5,1  [38;1H[?25h[?25l[46;63H~@k[38;1H[46;63H   [37;1H[46;74H4[37;1H[?25h[?25l[46;63H~@k[37;1H[46;63H   [36;1H[46;74H3[36;1H[?25h[?25l[46;63H~@k[36;1H[46;63H   [35;1H[46;74H2[35;1H[?25h[?25l[46;63H~@k[35;1H[46;63H   [34;1H[46;74H1,0-1[34;1H[?25h[?25l[46;63H~@k[34;1H[46;63H   [33;1H[26;11H[36m[46m{[33;1H}[m[46;74H0,1  [33;1H[?25h[?25l[46;63H~@k[33;1H[46;63H   [32;1H[26;11H[36m{[33;1H}[m[46;73H39[32;1H[?25h[?25l[46;63H~@k[32;1H[46;63H   [31;1H[46;74H8[31;1H[?25h[?25l[46;63H~@k[31;1H[46;63H   [29;1H[46;74H7[29;1H[?25h[?25l[46;63H~@k[29;1H[46;63H   [28;1H[46;74H6[28;1H[?25h[?25l[46;63H~@k[28;1H[46;63H   [27;1H[46;74H5[27;1H[?25h[?25l[46;63H~@k[27;1H[46;63H   [26;1H[46;74H4[26;1H[?25h[?25l[46;63H~@k[26;1H[46;63H   [25;1H[46;74H3,0-1[25;1H[?25h[?25l[46;63H~@k[25;1H[46;63H   [24;1H[46;74H2,1  [24;1H[?25h[?25l[46;63H~@k[24;1H[46;63H   [23;1H[46;74H1[23;1H[?25h[?25l[46;63H~@k[23;1H[46;63H   [22;1H[46;74H0[22;1H[?25h[?25l[46;63H~@k[22;1H[46;63H   [21;1H[46;73H29[21;1H[?25h[?25l[46;63H~@k[21;1H[46;63H   [20;1H[46;74H8,0-1[20;1H[?25h[?25l[46;63H~@k[20;1H[46;63H   [19;1H[46;74H7,1  [19;1H[?25h[?25l[46;63H~@k[19;1H[46;63H   [18;1H[46;74H6,0-1[18;1H[?25h[?25l[46;63H~@k[18;1H[46;63H   [17;1H[46;74H5,1  [17;1H[?25h[?25l[46;63H~@k[17;1H[46;63H   [16;8H[46;74H4,1-8[16;8H[?25h[?25l[46;63H~@k[16;8H[46;63H   [15;8H[46;74H3[15;8H[?25h[?25l[46;63H~@k[15;8H[46;63H   [14;8H[46;74H2[14;8H[?25h[?25l[46;63H~@k[14;8H[46;63H   [13;8H[46;74H1[13;8H[?25h[?25l[46;63H~@k[13;8H[46;63H   [12;8H[46;74H0[12;8H[?25h[?25l[46;63H~@k[12;8H[46;63H   [11;1H[46;73H19,1  [11;1H[?25h[?25l[46;63H~@k[11;1H[46;63H   [10;1H[46;74H8[10;1H[?25h[?25l[46;63H~@k[10;1H[46;63H   [9;1H[46;74H7,0-1[9;1H[?25h[?25l[46;63H~@k[9;1H[46;63H   [8;1H[46;74H6,1  [8;1H[?25h[?25l[46;63H~@k[8;1H[46;63H   [7;1H[46;74H5[7;1H[?25h[?25l[46;63H~@k[7;1H[46;63H   [6;1H[46;74H4,0-1[6;1H[?25h[?25l[46;63H~@k[6;1H[46;63H   [6;1H[1;45r[1;1H[L[1;46r[1;1H[34m# User specific environment[m[46;1H[K[46;73H13,1[10C87%[6;1H[?25h[?25l[46;63H~@k[6;1H[46;63H   [6;1H[1;45r[1;1H[L[1;46r[46;73H[K[46;73H12,1[10C75%[6;1H[?25h[?25l[46;63H~@k[6;1H[46;63H   [7;1H[46;74H3[7;1H[?25h[?25l[46;63H~@k[7;1H[46;63H   [8;1H[46;74H4,0-1[8;1H[?25h[?25l[46;63H~@k[8;1H[46;63H   [9;1H[46;74H5,1  [9;1H[?25h[?25l[46;63H~@k[9;1H[46;63H   [10;1H[46;74H6[10;1H[?25h[?25l[46;63H~@k[10;1H[46;63H   [11;1H[46;74H7,0-1[11;1H[?25h[?25l[46;63H~@k[11;1H[46;63H   [12;1H[46;74H8,1  [12;1H[?25h[?25l[46;63H~@k[12;1H[46;63H   [13;1H[46;74H9[13;1H[?25h[?25l[46;63H~@k[13;1H[46;63H   [14;8H[46;73H20,1-8[14;8H[?25h[?25l[46;63H~@k[14;8H[46;63H   [15;8H[46;74H1[15;8H[?25h[?25l[46;63H~@k[15;8H[46;63H   [16;8H[46;74H2[16;8H[?25h[?25l[46;63H~@k[16;8H[46;63H   [17;8H[46;74H3[17;8H[?25h[?25l[46;63H~@k[17;8H[46;63H   [18;8H[46;74H4[18;8H[?25h[?25l[46;63H~@k[18;8H[46;63H   [19;1H[46;74H5,1  [19;1H[?25h[?25l[46;63H~@k[19;1H[46;63H   [20;1H[46;74H6,0-1[20;1H[?25h[?25l[46;63H~@k[20;1H[46;63H   [21;1H[46;74H7,1  [21;1H[?25h[?25l[46;63H~@k[21;1H[46;63H   [22;1H[46;74H8,0-1[22;1H[?25h[?25l[46;63H~@k[22;1H[46;63H   [23;1H[46;74H9,1  [23;1H[?25h[?25l[46;63H~@k[23;1H[46;63H   [24;1H[46;73H30[24;1H[?25h[?25l[46;63H~@k[24;1H[46;63H   [25;1H[46;74H1[25;1H[?25h[?25l[46;63H~@k[25;1H[46;63H   [26;1H[46;74H2[26;1H[?25h[?25l[46;63H~@k[26;1H[46;63H   [27;1H[46;74H3,0-1[27;1H[?25h[?25l[46;63H~@k[27;1H[46;63H   [28;1H[46;74H4,1  [28;1H[?25h[?25l[46;63Hd[28;1H[?25h[?25l[46;64Hd[28;1H[46;63H  [28;3H[28;45r[45;1H
[1;46r[29;10H[33m\[31;15H\[32;49H\[m

[1m[37m[41m}[m[45;1H[31m      return $RC[m[33m'[m DEBUG[46;73H[K[46;73H34,3[10C85%[28;3H[?25h[?25l[46;63Hd[28;3H[?25h[?25l[46;64Hd[28;3H[46;63H  [28;3H[28;45r[45;1H
[1;46r[46;73H[K[46;73H34,3[9Cë°”ë‹¥[28;3H[?25h[?25l[46;63Hd[28;3H[?25h[?25l[46;64Hd[28;3H[46;63H  [28;5H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,5[9Cë°”ë‹¥[28;5H[?25h[?25l[46;63Hd[28;5H[?25h[?25l[46;64Hd[28;5H[46;63H  [28;5H[28;45r[28;1H[2M[1;46r[44;1H[1m[34m~                                                                                         [45;1H~                                                                                         [m[46;73H[K[46;73H34,5[9Cë°”ë‹¥[28;5H[?25h[?25l[46;63Hd[28;5H[?25h[?25l[46;64Hd[28;5H[46;63H  [28;5H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,5[9Cë°”ë‹¥[28;5H[?25h[?25l[46;63Hd[28;5H[?25h[?25l[46;64Hd[28;5H[46;63H  [28;1H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,1[9Cë°”ë‹¥[28;1H[?25h[?25l[46;63Hd[28;1H[?25h[?25l[46;63H [28;1H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,0-1[7Cë°”ë‹¥[28;1H[?25h[?25l[46;63Hd[28;1H[?25h[?25l[46;64Hd[28;1H[46;63H  [28;1H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,1[9Cë°”ë‹¥[28;1H[?25h[?25l[46;63Hd[28;1H[?25h[?25l[46;64Hd[28;1H[46;63H  [28;1H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,1[9Cë°”ë‹¥[28;1H[?25h[?25l[46;63Hd[28;1H[?25h[?25l[46;64Hd[28;1H[46;63H  [28;1H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,1[9Cë°”ë‹¥[28;1H[?25h[?25l[46;63Hd[28;1H[?25h[?25l[46;64Hd[28;1H[46;63H  [28;1H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,1[9Cë°”ë‹¥[28;1H[?25h[?25l[46;63Hd[28;1H[?25h[?25l[46;64Hd[28;1H[46;63H  [28;1H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,0-1[7Cë°”ë‹¥[28;1H[?25h[?25l[46;63Hd[28;1H[?25h[?25l[46;64Hd[28;1H[46;63H  [28;1H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,1[9Cë°”ë‹¥[28;1H[?25h[?25l[46;63Hd[28;1H[?25h[?25l[46;64Hd[28;1H[46;63H  [28;1H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,1[9Cë°”ë‹¥[28;1H[?25h[?25l[46;63Hd[28;1H[?25h[?25l[46;64Hd[28;1H[46;63H  [28;7H[28;45r[45;1H
[1;46r[28;1H      [33mecho[1C"[m[35m$([m[35mdate [m[33m"[6C"[m[35m)[2C$$[2C$([m[35mwhoami[m[35m)[1C$([m[35mhostname[m[35m)[1C$([m[33mpwd[m[35m)[4C$CMD[m[33m"[m[29;7H| _redact [33m>>[m [33m"[m[35m$CMD_LOG[m[33m"[m; [33m\[m
      [33mreturn[m [35m$RC[m[1C[31m DEBUG[m[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,7[9Cë°”ë‹¥[28;7H[?25h[?25l[46;63Hd[28;7H[?25h[?25l[46;64Hd[28;7H[46;63H  [28;7H[28;45r[45;1H
[1;46r[28;1H      [45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,7[9Cë°”ë‹¥[28;7H[?25h[?25l[46;63Hd[28;7H[?25h[?25l[46;64Hd[28;7H[46;63H  [28;7H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,7[9Cë°”ë‹¥[28;7H[?25h[?25l[46;63Hd[28;7H[?25h[?25l[46;64Hd[28;7H[46;63H  [28;1H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,0-1[7Cë°”ë‹¥[28;1H[?25h[?25l[46;63H~@k[28;1H[46;63H   [27;1H[46;74H3[27;1H[?25h[?25l[46;63H~@k[27;1H[46;63H   [26;1H[46;74H2,1  [26;1H[?25h[?25l[46;63Hd[26;1H[?25h[?25l[46;64Hd[26;1H[46;63H  [26;1H[26;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H32,0-1[7Cë°”ë‹¥[26;1H[?25h[?25l[46;63Ha[26;1H[46;63H [26;1H[46;1H[1m-- ë¼ì›Œë„£ê¸° --[m[46;73H[K[46;73H32,1[9Cë°”ë‹¥[26;1H[?25h[?25l[27;45r[27;1H[L[1;46r[46;13H[1m(ë¶™ì´ê¸°) --[m[46;73H[K[27;1H[?25h[?25l[28;45r[28;1H[L[1;46r[27;1H[34m# ì¼ìžë³„ ë¡œê·¸ íŒŒì¼[m
[36m_cmd_log_file() {[m [33mprintf[m [33m"[m[31m%s/commands-%s.[?25h[?25l[29;45r[m[29;1H[3L[1;46r[28;42H[31mlog[m[33m"[m [33m"[m[35m$LOG_DIR[m[33m"[m [33m"[m[35m$([m[35mdate +%Y%m%d[m[35m)[m[33m";[m [36m}

_redact() {[m
  [34m# í† í°/ë¹„[?25h[?25l[32;45r[m[32;1H[L[1;46r[31;12H[34më²ˆ/í‚¤ ìœ ì‚¬ íŒ¨í„´ ë§ˆìŠ¤í‚¹ (í•„ìš”ì‹œ ê·œì¹™ ì¶”ê°€)[m
  [33msed[m [35m-E[?25h[?25l[33;45r[m[33;1H[L[1;46r[32;10H\
    [35m-e[m [33m'[m[31ms/(token|password|passwd|pwd|secret|apikey|api_key|A[?25h[?25l[34;45r[m[34;1H[2L[1;46r[33;61H[31muthorization|Bearer)[=: ]+[^ ]][34;1H+/\1=****/Ig[m[33m'[m \
    [35m-e[m [33m'[m[31ms/(--pass[?25h[?25l[36;45r[m[36;1H[L[1;46r[35;18H[31mword|-p)[= ]+[^ ]+/\1 ****/Ig[m[33m'[m \
    [35m-e[m [33m'[m[31ms/(id_ed25519|aws_secr[?25h[?25l[37;45r[m[37;1H[3L[1;46r[36;31H[31met_access_key|aws_access_key_id)[^ ]*/\1****/Ig[m[33m'[m
[36m}[m

[34m# ížˆìŠ¤í† [?25h[?25l[40;45r[m[40;1H[2L[1;46r[39;9H[34më¦¬ ì˜µì…˜[m
[33mexport[m [36mHISTTIMEFORMAT[m=[33m"[m[31m%F %T  [m[33m"
export[m [36mHISTCONTROL[m=i[?25h[?25l[42;45r[42;1H[L[1;46r[41;21Hgnoredups:ignorespace
[34m# í”„ë¡¬í”„íŠ¸ë§ˆë‹¤ history íŒŒì¼ì— [?25h[?25lì¦‰ì‹œ ë°˜ì˜[m
[33mexport[m [36mPROMPT_COMMAND[m=[33m'[m[31mhistory -a[m[33m'[m[44;1H[K[45;1H[34m# ì§ì „ ëª…ë ¹[m[45;12H[K[1;45r[45;1H
[1;46r[44;12H[?25h[?25l[34mì„ ìº¡ì²˜í•´ íŒŒì¼ì— ëˆ„ì  (DEBUG íŠ¸ëž©)[m
[33mtrap[m [33m'[m[31m{[44;1H[?25h[?25l[1;45r[m[1;1H[3M[1;46r[43;1H[31m  rc=$?;
  # ê°€ìž¥ ìµœê·¼ ëª…ë ¹ë§Œ ì¶”ì¶œ
  cmd=$(history 1 | sed "s/^[44;29H[?25h[?25l[1;45r[m[45;1H
[1;46r[44;29H[31m[[:space:]]*[0-9]\+[[:space:]]*//");
  # ë¡œê·¸ ë¼ì¸ ìž‘ì„±[44;2H[?25h[?25l[1;45r[m[1;1H[2M[1;46r[44;1H[31m  printf "%s [%d] %s@%s:%s -> %s\n" \
    "$(date "+%F %T")" "$$[44;27H[?25h[?25l[1;45r[m[45;1H
[1;46r[44;27H[31m" "$(whoami)" "$(hostname)" "$PWD" "$cmd" \
  | _redact >> "$(_[44;20H[?25h[?25l[1;45r[m[45;1H
[1;46r[44;20H[31mcmd_log_file)";
  # ì£¼ì˜: ì—¬ê¸°ì„œ return/exit ì‚¬ìš© ê¸ˆì§€[44;39H[?25h[?25l[1;45r[m[1;1H[2M[1;46r[43;39H[31m (ìƒìœ„ ì‰˜)
};[m[33m'[m DEBUG[46;13H[1m-- ì´[m[46;15H[K[46;73H60,10[8Cë°”ë‹¥[44;10H[?25h[46;1H[K[44;9H[?25l[46;63H^[[44;9H[46;63H  [44;10H[46;73H60,9[9Cë°”ë‹¥[44;9H[?25h[?25l[46;63H:[44;9H[46;63H[K[46;1H:[?25hwq[?25l[?2004l[>4;m".bashrc" 61L, 1640B ì €ìž¥ í–ˆìŠµë‹ˆë‹¤[23;2t[23;1t
[?1004l[?2004l[?1l>[?25h[>4;m[?1049l[23;0;0tbash: return: í•¨ìˆ˜ ë˜ëŠ” ì†ŒìŠ¤ëœ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ 'return' í•  ìˆ˜ ìžˆìŒ
[?2004h[onycom@master ~]$ 
[?2004lbash: return: í•¨ìˆ˜ ë˜ëŠ” ì†ŒìŠ¤ëœ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ 'return' í•  ìˆ˜ ìžˆìŒ
[?2004h[onycom@master ~]$ [7msource ~/.bashrc[27m
[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Csource ~/.bashrc
[A
[?2004lbash: return: í•¨ìˆ˜ ë˜ëŠ” ì†ŒìŠ¤ëœ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ 'return' í•  ìˆ˜ ìžˆìŒ
[?2004h[onycom@master ~]$ 
[?2004l[?2004h[onycom@master ~]$ source ~/.bashrc[Kls
[?2004l+                                 [0m[01;34mrhel9_unix_check_20251025_213330[0m  webserver-pod.yaml
Results_2025-10-25_09:32:10.txt   [01;34mrhel9_unix_check_20251025_214240[0m  [01;34mê³µê°œ[0m
[01;32mRocky_Script.sh[0m                   [01;34mrhel9_unix_check_20251025_230724[0m  [01;34më‹¤ìš´ë¡œë“œ[0m
[01;34mcka-study[0m                         [01;34mrhel9_unix_check_20251025_235319[0m  [01;34më¬¸ì„œ[0m
[01;32mrhel9_u01_u70_fullcheck.sh[0m        [01;34mrhel9_unix_check_20251026_000320[0m  [01;34më°”íƒ•í™”ë©´[0m
[01;32mrhel9_u01_u70_fullcheck_v02.sh[0m    [01;34mrhel9_unix_check_20251102_221538[0m  [01;34më¹„ë””ì˜¤[0m
[01;32mrhel9_u01_u70_fullcheck_v021.sh[0m   [01;34mrhel9_unix_check_20251102_221642[0m  [01;34mì‚¬ì§„[0m
[01;32mrhel9_u01_u70_fullcheck_v022a.sh[0m  [01;34mrhel9_unix_check_20251102_221922[0m  [01;34mì„œì‹[0m
[01;34mrhel9_unix_check_20251025_211324[0m  token.txt                         [01;34mìŒì•…[0m
[?2004h[onycom@master ~]$ 
[?2004l[?2004h[onycom@master ~]$ 
[?2004l[?2004h[onycom@master ~]$ ls ~/cka-study/logs
[?2004lcommands-20251104.log  session-20251104_0759.log
[?2004h[onycom@master ~]$ cat ~/cka-study/logs/session-20251104_0759.log 
[?2004lScript started on 2025-11-04 07:59:03+09:00 [TERM="xterm" TTY="/dev/pts/1" COLUMNS="90" LINES="46"]
bash: return: í•¨ìˆ˜ ë˜ëŠ” ì†ŒìŠ¤ëœ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ 'return' í•  ìˆ˜ ìžˆìŒ
[?2004h[onycom@master ~]$ 
[?2004lbash: return: í•¨ìˆ˜ ë˜ëŠ” ì†ŒìŠ¤ëœ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ 'return' í•  ìˆ˜ ìžˆìŒ
[?2004h[onycom@master ~]$ 
[?2004lbash: return: í•¨ìˆ˜ ë˜ëŠ” ì†ŒìŠ¤ëœ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ 'return' í•  ìˆ˜ ìžˆìŒ
[?2004h[onycom@master ~]$ cat .bashrc 
[?2004lbash: return: í•¨ìˆ˜ ë˜ëŠ” ì†ŒìŠ¤ëœ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ 'return' í•  ìˆ˜ ìžˆìŒ
# .bashrc

# Source global definitions
if [ -f /etc/bashrc ]; then
	. /etc/bashrc
fi

# User specific environment
if ! [[ "$PATH" =~ "$HOME/.local/bin:$HOME/bin:" ]]
then
    PATH="$HOME/.local/bin:$HOME/bin:$PATH"
fi
export PATH

# Uncomment the following line if you don't like systemctl's auto-paging feature:
# export SYSTEMD_PAGER=

# User specific aliases and functions
if [ -d ~/.bashrc.d ]; then
	for rc in ~/.bashrc.d/*; do
		if [ -f "$rc" ]; then
			. "$rc"
		fi
	done
fi

unset rc

# === per-command logger (ë¯¼ê°ì •ë³´ ë§ˆìŠ¤í‚¹) ===
LOG_DIR="$HOME/cka-study/logs"
mkdir -p "$LOG_DIR"
CMD_LOG="$LOG_DIR/commands-$(date +%Y%m%d).log"

_redact() {
  # í† í°/ë¹„ë²ˆ/í‚¤ ë¹„ìŠ·í•œ íŒ¨í„´ ë§ˆìŠ¤í‚¹
  sed -E \
    -e 's/(token|password|passwd|pwd|secret|apikey|api_key|Authorization|Bearer)[=: ]+[^ ]+/\1=****/Ig' \
    -e 's/(--password|-p)[= ]+[^ ]+/\1 ****/Ig' \
    -e 's/(id_ed25519|aws_secret_access_key|aws_access_key_id)[^ ]*/\1****/Ig'
}

# ížˆìŠ¤í† ë¦¬ ì˜µì…˜
export HISTTIMEFORMAT="%F %T  "
export HISTCONTROL=ignoredups:ignorespace
export PROMPT_COMMAND='history -a'

# ì§ì „ ëª…ë ¹ì„ ìº¡ì²˜í•´ íŒŒì¼ì— ëˆ„ì  (DEBUG íŠ¸ëž©)
trap 'RC=$?; CMD=$(history 1 | sed "s/^[ ]*[0-9]\+[ ]*//"); \
      echo "$(date "+%F %T") [$$] $(whoami)@$(hostname):$(pwd) -> $CMD" \
      | _redact >> "$CMD_LOG"; \
      return $RC' DEBUG

bash: return: í•¨ìˆ˜ ë˜ëŠ” ì†ŒìŠ¤ëœ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ 'return' í•  ìˆ˜ ìžˆìŒ
[?2004h[onycom@master ~]$ cat .bashrc sudo ./rhel9_u01_u70_fullcheck_v022a.sh[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cls[Ksudo ./rhel9_u01_u70_fullcheck_v022a.sh[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ccat .bashrc [K[Kcat .bashrc sudo ./rhel9_u01_u70_fullcheck_v022a.sh[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cls[Ksudo ./rhel9_u01_u70_fullcheck_v022a.sh[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ccat .bashrc [K[Kvi .bashrc
[?2004lbash: return: í•¨ìˆ˜ ë˜ëŠ” ì†ŒìŠ¤ëœ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ 'return' í•  ìˆ˜ ìžˆìŒ
[?1049h[22;0;0t[>4;2m[?1h=[?2004h[?1004h[1;46r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[46;1H".bashrc" 52L, 1344B[2;1Hâ–½[6n[2;1H  [3;1HPzz\[0%m[6n[3;1H           [1;1H[>c]10;?]11;?[1;1H[33mif ![m [35m[[[m [33m"[m[35m$PATH[m[33m"[m [33m=~[m [33m"[m[35m$HOME[m[31m/.local/bin:[m[35m$HOME[m[31m/bin:[m[33m"[m [35m]][m
[33mthen[m[2;5H[K[3;1H    [35mPATH[m[33m="[m[35m$HOME[m[31m/.local/bin:[m[35m$HOME[m[31m/bin:[m[35m$PATH[m[33m"[m[3;44H[K[4;1H[33mfi
export[m PATH

[34m# Uncomment the following line if you don't like systemctl's auto-paging feature:
# export SYSTEMD_PAGER=

# User specific aliases and functions[m
[33mif [[m [33m-d[m ~/.bashrc.d [33m];[m [33mthen[12;9Hfor[m rc [33min[m ~/.bashrc.d/*[33m;[m [33mdo[13;17Hif [[m [33m-f[m [33m"[m[35m$rc[m[33m"[m [33m];[m [33mthen[14;17H        . "[m[35m$rc[m[33m"[15;17Hfi[16;9Hdone
fi

unset[m[36m rc[m

[34m# === per-command logger (ë¯¼ê°ì •ë³´ ë§ˆìŠ¤í‚¹) ===[m
[36mLOG_DIR[m=[33m"[m[35m$HOME[m[31m/cka-study/logs[m[33m"
mkdir[m [35m-p[m [33m"[m[35m$LOG_DIR[m[33m"[m
[36mCMD_LOG[m=[33m"[m[35m$LOG_DIR[m[31m/commands-[m[35m$([m[35mdate +%Y%m%d[m[35m)[m[31m.log[m[33m"[m

[36m_redact() {[m
  [34m# í† í°/ë¹„ë²ˆ/í‚¤ ë¹„ìŠ·í•œ íŒ¨í„´ ë§ˆìŠ¤í‚¹[m
  [33msed[m [35m-E[m \
    [35m-e[m [33m'[m[31ms/(token|password|passwd|pwd|secret|apikey|api_key|Authorization|Bearer)[=: ]+[^ ]][30;1H+/\1=****/Ig[m[33m'[m \
    [35m-e[m [33m'[m[31ms/(--password|-p)[= ]+[^ ]+/\1 ****/Ig[m[33m'[m \
    [35m-e[m [33m'[m[31ms/(id_ed25519|aws_secret_access_key|aws_access_key_id)[^ ]*/\1****/Ig[m[33m'[m
[36m}[m

[34m# ížˆìŠ¤í† ë¦¬ ì˜µì…˜[m
[33mexport[m [36mHISTTIMEFORMAT[m=[33m"[m[31m%F %T  [m[33m"
export[m [36mHISTCONTROL[m=ignoredups:ignorespace
[33mexport[m [36mPROMPT_COMMAND[m=[33m'[m[31mhistory -a[m[33m'[m

[34m# ì§ì „ ëª…ë ¹ì„ ìº¡ì²˜í•´ íŒŒì¼ì— ëˆ„ì  (DEBUG íŠ¸ëž©)[m
[33mtrap[m [33m'[m[31mRC=$?; CMD=$(history 1 | sed "s/^[ ]*[0-9]\+[ ]*//"); \
      echo "$(date "+%F %T") [$$] $(whoami)@$(hostname):$(pwd) -> $CMD" \
      | _redact >> "$CMD_LOG"; \
      return $RC[m[33m'[m DEBUG[46;73H52,0-1[7Cë°”ë‹¥[45;1H[?25h[?25l[46;63H~@k[45;1H[46;63H   [44;1H[46;74H1,1  [44;1H[?25h[?25l[46;63H~@k[44;1H[46;63H   [43;1H[46;74H0[43;1H[?25h[?25l[46;63H~@k[43;1H[46;63H   [42;1H[46;73H49[42;1H[?25h[?25l[46;63H~@k[42;1H[46;63H   [41;1H[46;74H8[41;1H[?25h[?25l[46;63H~@k[41;1H[46;63H   [40;1H[46;74H7[40;1H[?25h[?25l[46;63H~@k[40;1H[46;63H   [39;1H[46;74H6,0-1[39;1H[?25h[?25l[46;63H~@k[39;1H[46;63H   [38;1H[46;74H5,1  [38;1H[?25h[?25l[46;63H~@k[38;1H[46;63H   [37;1H[46;74H4[37;1H[?25h[?25l[46;63H~@k[37;1H[46;63H   [36;1H[46;74H3[36;1H[?25h[?25l[46;63H~@k[36;1H[46;63H   [35;1H[46;74H2[35;1H[?25h[?25l[46;63H~@k[35;1H[46;63H   [34;1H[46;74H1,0-1[34;1H[?25h[?25l[46;63H~@k[34;1H[46;63H   [33;1H[26;11H[36m[46m{[33;1H}[m[46;74H0,1  [33;1H[?25h[?25l[46;63H~@k[33;1H[46;63H   [32;1H[26;11H[36m{[33;1H}[m[46;73H39[32;1H[?25h[?25l[46;63H~@k[32;1H[46;63H   [31;1H[46;74H8[31;1H[?25h[?25l[46;63H~@k[31;1H[46;63H   [29;1H[46;74H7[29;1H[?25h[?25l[46;63H~@k[29;1H[46;63H   [28;1H[46;74H6[28;1H[?25h[?25l[46;63H~@k[28;1H[46;63H   [27;1H[46;74H5[27;1H[?25h[?25l[46;63H~@k[27;1H[46;63H   [26;1H[46;74H4[26;1H[?25h[?25l[46;63H~@k[26;1H[46;63H   [25;1H[46;74H3,0-1[25;1H[?25h[?25l[46;63H~@k[25;1H[46;63H   [24;1H[46;74H2,1  [24;1H[?25h[?25l[46;63H~@k[24;1H[46;63H   [23;1H[46;74H1[23;1H[?25h[?25l[46;63H~@k[23;1H[46;63H   [22;1H[46;74H0[22;1H[?25h[?25l[46;63H~@k[22;1H[46;63H   [21;1H[46;73H29[21;1H[?25h[?25l[46;63H~@k[21;1H[46;63H   [20;1H[46;74H8,0-1[20;1H[?25h[?25l[46;63H~@k[20;1H[46;63H   [19;1H[46;74H7,1  [19;1H[?25h[?25l[46;63H~@k[19;1H[46;63H   [18;1H[46;74H6,0-1[18;1H[?25h[?25l[46;63H~@k[18;1H[46;63H   [17;1H[46;74H5,1  [17;1H[?25h[?25l[46;63H~@k[17;1H[46;63H   [16;8H[46;74H4,1-8[16;8H[?25h[?25l[46;63H~@k[16;8H[46;63H   [15;8H[46;74H3[15;8H[?25h[?25l[46;63H~@k[15;8H[46;63H   [14;8H[46;74H2[14;8H[?25h[?25l[46;63H~@k[14;8H[46;63H   [13;8H[46;74H1[13;8H[?25h[?25l[46;63H~@k[13;8H[46;63H   [12;8H[46;74H0[12;8H[?25h[?25l[46;63H~@k[12;8H[46;63H   [11;1H[46;73H19,1  [11;1H[?25h[?25l[46;63H~@k[11;1H[46;63H   [10;1H[46;74H8[10;1H[?25h[?25l[46;63H~@k[10;1H[46;63H   [9;1H[46;74H7,0-1[9;1H[?25h[?25l[46;63H~@k[9;1H[46;63H   [8;1H[46;74H6,1  [8;1H[?25h[?25l[46;63H~@k[8;1H[46;63H   [7;1H[46;74H5[7;1H[?25h[?25l[46;63H~@k[7;1H[46;63H   [6;1H[46;74H4,0-1[6;1H[?25h[?25l[46;63H~@k[6;1H[46;63H   [6;1H[1;45r[1;1H[L[1;46r[1;1H[34m# User specific environment[m[46;1H[K[46;73H13,1[10C87%[6;1H[?25h[?25l[46;63H~@k[6;1H[46;63H   [6;1H[1;45r[1;1H[L[1;46r[46;73H[K[46;73H12,1[10C75%[6;1H[?25h[?25l[46;63H~@k[6;1H[46;63H   [7;1H[46;74H3[7;1H[?25h[?25l[46;63H~@k[7;1H[46;63H   [8;1H[46;74H4,0-1[8;1H[?25h[?25l[46;63H~@k[8;1H[46;63H   [9;1H[46;74H5,1  [9;1H[?25h[?25l[46;63H~@k[9;1H[46;63H   [10;1H[46;74H6[10;1H[?25h[?25l[46;63H~@k[10;1H[46;63H   [11;1H[46;74H7,0-1[11;1H[?25h[?25l[46;63H~@k[11;1H[46;63H   [12;1H[46;74H8,1  [12;1H[?25h[?25l[46;63H~@k[12;1H[46;63H   [13;1H[46;74H9[13;1H[?25h[?25l[46;63H~@k[13;1H[46;63H   [14;8H[46;73H20,1-8[14;8H[?25h[?25l[46;63H~@k[14;8H[46;63H   [15;8H[46;74H1[15;8H[?25h[?25l[46;63H~@k[15;8H[46;63H   [16;8H[46;74H2[16;8H[?25h[?25l[46;63H~@k[16;8H[46;63H   [17;8H[46;74H3[17;8H[?25h[?25l[46;63H~@k[17;8H[46;63H   [18;8H[46;74H4[18;8H[?25h[?25l[46;63H~@k[18;8H[46;63H   [19;1H[46;74H5,1  [19;1H[?25h[?25l[46;63H~@k[19;1H[46;63H   [20;1H[46;74H6,0-1[20;1H[?25h[?25l[46;63H~@k[20;1H[46;63H   [21;1H[46;74H7,1  [21;1H[?25h[?25l[46;63H~@k[21;1H[46;63H   [22;1H[46;74H8,0-1[22;1H[?25h[?25l[46;63H~@k[22;1H[46;63H   [23;1H[46;74H9,1  [23;1H[?25h[?25l[46;63H~@k[23;1H[46;63H   [24;1H[46;73H30[24;1H[?25h[?25l[46;63H~@k[24;1H[46;63H   [25;1H[46;74H1[25;1H[?25h[?25l[^[[2;2R^[[3;3R^[[>0;136;0c46;63H~@k[25;1H[46;63H   [26;1H[46;74H2[26;1H[?25h[?25l[46;63H~@k[26;1H[46;63H   [27;1H[46;74H3,0-1[27;1H[?25h[?25l[46;63H~@k[27;1H[46;63H   [28;1H[46;74H4,1  [28;1H[?25h[?25l[46;63Hd[28;1H[?25h[?25l[46;64Hd[28;1H[46;63H  [28;3H[28;45r[45;1H
[1;46r[29;10H[33m\[31;15H\[32;49H\[m

[1m[37m[41m}[m[45;1H[31m      return $RC[m[33m'[m DEBUG[46;73H[K[46;73H34,3[10C85%[28;3H[?25h[?25l[46;63Hd[28;3H[?25h[?25l[46;64Hd[28;3H[46;63H  [28;3H[28;45r[45;1H
[1;46r[46;73H[K[46;73H34,3[9Cë°”ë‹¥[28;3H[?25h[?25l[46;63Hd[28;3H[?25h[?25l[46;64Hd[28;3H[46;63H  [28;5H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,5[9Cë°”ë‹¥[28;5H[?25h[?25l[46;63Hd[28;5H[?25h[?25l[46;64Hd[28;5H[46;63H  [28;5H[28;45r[28;1H[2M[1;46r[44;1H[1m[34m~                                                                                         [45;1H~                                                                                         [m[46;73H[K[46;73H34,5[9Cë°”ë‹¥[28;5H[?25h[?25l[46;63Hd[28;5H[?25h[?25l[46;64Hd[28;5H[46;63H  [28;5H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,5[9Cë°”ë‹¥[28;5H[?25h[?25l[46;63Hd[28;5H[?25h[?25l[46;64Hd[28;5H[46;63H  [28;1H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,1[9Cë°”ë‹¥[28;1H[?25h[?25l[46;63Hd[28;1H[?25h[?25l[46;63H [28;1H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,0-1[7Cë°”ë‹¥[28;1H[?25h[?25l[46;63Hd[28;1H[?25h[?25l[46;64Hd[28;1H[46;63H  [28;1H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,1[9Cë°”ë‹¥[28;1H[?25h[?25l[46;63Hd[28;1H[?25h[?25l[46;64Hd[28;1H[46;63H  [28;1H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,1[9Cë°”ë‹¥[28;1H[?25h[?25l[46;63Hd[28;1H[?25h[?25l[46;64Hd[28;1H[46;63H  [28;1H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,1[9Cë°”ë‹¥[28;1H[?25h[?25l[46;63Hd[28;1H[?25h[?25l[46;64Hd[28;1H[46;63H  [28;1H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,1[9Cë°”ë‹¥[28;1H[?25h[?25l[46;63Hd[28;1H[?25h[?25l[46;64Hd[28;1H[46;63H  [28;1H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,0-1[7Cë°”ë‹¥[28;1H[?25h[?25l[46;63Hd[28;1H[?25h[?25l[46;64Hd[28;1H[46;63H  [28;1H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,1[9Cë°”ë‹¥[28;1H[?25h[?25l[46;63Hd[28;1H[?25h[?25l[46;64Hd[28;1H[46;63H  [28;1H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,1[9Cë°”ë‹¥[28;1H[?25h[?25l[46;63Hd[28;1H[?25h[?25l[46;64Hd[28;1H[46;63H  [28;7H[28;45r[45;1H
[1;46r[28;1H      [33mecho[1C"[m[35m$([m[35mdate [m[33m"[6C"[m[35m)[2C$$[2C$([m[35mwhoami[m[35m)[1C$([m[35mhostname[m[35m)[1C$([m[33mpwd[m[35m)[4C$CMD[m[33m"[m[29;7H| _redact [33m>>[m [33m"[m[35m$CMD_LOG[m[33m"[m; [33m\[m
      [33mreturn[m [35m$RC[m[1C[31m DEBUG[m[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,7[9Cë°”ë‹¥[28;7H[?25h[?25l[46;63Hd[28;7H[?25h[?25l[46;64Hd[28;7H[46;63H  [28;7H[28;45r[45;1H
[1;46r[28;1H      [45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,7[9Cë°”ë‹¥[28;7H[?25h[?25l[46;63Hd[28;7H[?25h[?25l[46;64Hd[28;7H[46;63H  [28;7H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,7[9Cë°”ë‹¥[28;7H[?25h[?25l[46;63Hd[28;7H[?25h[?25l[46;64Hd[28;7H[46;63H  [28;1H[28;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H34,0-1[7Cë°”ë‹¥[28;1H[?25h[?25l[46;63H~@k[28;1H[46;63H   [27;1H[46;74H3[27;1H[?25h[?25l[46;63H~@k[27;1H[46;63H   [26;1H[46;74H2,1  [26;1H[?25h[?25l[46;63Hd[26;1H[?25h[?25l[46;64Hd[26;1H[46;63H  [26;1H[26;45r[45;1H
[1;46r[45;1H[1m[34m~                                                                                         [m[46;73H[K[46;73H32,0-1[7Cë°”ë‹¥[26;1H[?25h[?25l[46;63Ha[26;1H[46;63H [26;1H[46;1H[1m-- ë¼ì›Œë„£ê¸° --[m[46;73H[K[46;73H32,1[9Cë°”ë‹¥[26;1H[?25h[?25l[27;45r[27;1H[L[1;46r[46;13H[1m(ë¶™ì´ê¸°) --[m[46;73H[K[27;1H[?25h[?25l[28;45r[28;1H[L[1;46r[27;1H[34m# ì¼ìžë³„ ë¡œê·¸ íŒŒì¼[m
[36m_cmd_log_file() {[m [33mprintf[m [33m"[m[31m%s/commands-%s.[?25h[?25l[29;45r[m[29;1H[3L[1;46r[28;42H[31mlog[m[33m"[m [33m"[m[35m$LOG_DIR[m[33m"[m [33m"[m[35m$([m[35mdate +%Y%m%d[m[35m)[m[33m";[m [36m}

_redact() {[m
  [34m# í† í°/ë¹„[?25h[?25l[32;45r[m[32;1H[L[1;46r[31;12H[34më²ˆ/í‚¤ ìœ ì‚¬ íŒ¨í„´ ë§ˆìŠ¤í‚¹ (í•„ìš”ì‹œ ê·œì¹™ ì¶”ê°€)[m
  [33msed[m [35m-E[?25h[?25l[33;45r[m[33;1H[L[1;46r[32;10H\
    [35m-e[m [33m'[m[31ms/(token|password|passwd|pwd|secret|apikey|api_key|A[?25h[?25l[34;45r[m[34;1H[2L[1;46r[33;61H[31muthorization|Bearer)[=: ]+[^ ]][34;1H+/\1=****/Ig[m[33m'[m \
    [35m-e[m [33m'[m[31ms/(--pass[?25h[?25l[36;45r[m[36;1H[L[1;46r[35;18H[31mword|-p)[= ]+[^ ]+/\1 ****/Ig[m[33m'[m \
    [35m-e[m [33m'[m[31ms/(id_ed25519|aws_secr[?25h[?25l[37;45r[m[37;1H[3L[1;46r[36;31H[31met_access_key|aws_access_key_id)[^ ]*/\1****/Ig[m[33m'[m
[36m}[m

[34m# ížˆìŠ¤í† [?25h[?25l[40;45r[m[40;1H[2L[1;46r[39;9H[34më¦¬ ì˜µì…˜[m
[33mexport[m [36mHISTTIMEFORMAT[m=[33m"[m[31m%F %T  [m[33m"
export[m [36mHISTCONTROL[m=i[?25h[?25l[42;45r[42;1H[L[1;46r[41;21Hgnoredups:ignorespace
[34m# í”„ë¡¬í”„íŠ¸ë§ˆë‹¤ history íŒŒì¼ì— [?25h[?25lì¦‰ì‹œ ë°˜ì˜[m
[33mexport[m [36mPROMPT_COMMAND[m=[33m'[m[31mhistory -a[m[33m'[m[44;1H[K[45;1H[34m# ì§ì „ ëª…ë ¹[m[45;12H[K[1;45r[45;1H
[1;46r[44;12H[?25h[?25l[34mì„ ìº¡ì²˜í•´ íŒŒì¼ì— ëˆ„ì  (DEBUG íŠ¸ëž©)[m
[33mtrap[m [33m'[m[31m{[44;1H[?25h[?25l[1;45r[m[1;1H[3M[1;46r[43;1H[31m  rc=$?;
  # ê°€ìž¥ ìµœê·¼ ëª…ë ¹ë§Œ ì¶”ì¶œ
  cmd=$(history 1 | sed "s/^[44;29H[?25h[?25l[1;45r[m[45;1H
[1;46r[44;29H[31m[[:space:]]*[0-9]\+[[:space:]]*//");
  # ë¡œê·¸ ë¼ì¸ ìž‘ì„±[44;2H[?25h[?25l[1;45r[m[1;1H[2M[1;46r[44;1H[31m  printf "%s [%d] %s@%s:%s -> %s\n" \
    "$(date "+%F %T")" "$$[44;27H[?25h[?25l[1;45r[m[45;1H
[1;46r[44;27H[31m" "$(whoami)" "$(hostname)" "$PWD" "$cmd" \
  | _redact >> "$(_[44;20H[?25h[?25l[1;45r[m[45;1H
[1;46r[44;20H[31mcmd_log_file)";
  # ì£¼ì˜: ì—¬ê¸°ì„œ return/exit ì‚¬ìš© ê¸ˆì§€[44;39H[?25h[?25l[1;45r[m[1;1H[2M[1;46r[43;39H[31m (ìƒìœ„ ì‰˜)
};[m[33m'[m DEBUG[46;13H[1m-- ì´[m[46;15H[K[46;73H60,10[8Cë°”ë‹¥[44;10H[?25h[46;1H[K[44;9H[?25l[46;63H^[[44;9H[46;63H  [44;10H[46;73H60,9[9Cë°”ë‹¥[44;9H[?25h[?25l[46;63H:[44;9H[46;63H[K[46;1H:[?25hwq[?25l[?2004l[>4;m".bashrc" 61L, 1640B ì €ìž¥ í–ˆìŠµë‹ˆë‹¤[23;2t[23;1t
[?1004l[?2004l[?1l>[?25h[>4;m[?1049l[23;0;0tbash: return: í•¨ìˆ˜ ë˜ëŠ” ì†ŒìŠ¤ëœ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ 'return' í•  ìˆ˜ ìžˆìŒ
[?2004h[onycom@master ~]$ 
[?2004lbash: return: í•¨ìˆ˜ ë˜ëŠ” ì†ŒìŠ¤ëœ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ 'return' í•  ìˆ˜ ìžˆìŒ
[?2004h[onycom@master ~]$ [7msource ~/.bashrc[27m
[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Csource ~/.bashrc
[A
[?2004lbash: return: í•¨ìˆ˜ ë˜ëŠ” ì†ŒìŠ¤ëœ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ 'return' í•  ìˆ˜ ìžˆìŒ
[?2004h[onycom@master ~]$ 
[?2004l[?2004h[onycom@master ~]$ source ~/.bashrc[Kls
[?2004l+                                 [0m[01;34mrhel9_unix_check_20251025_213330[0m  webserver-pod.yaml
Results_2025-10-25_09:32:10.txt   [01;34mrhel9_unix_check_20251025_214240[0m  [01;34mê³µê°œ[0m
[01;32mRocky_Script.sh[0m                   [01;34mrhel9_unix_check_20251025_230724[0m  [01;34më‹¤ìš´ë¡œë“œ[0m
[01;34mcka-study[0m                         [01;34mrhel9_unix_check_20251025_235319[0m  [01;34më¬¸ì„œ[0m
[01;32mrhel9_u01_u70_fullcheck.sh[0m        [01;34mrhel9_unix_check_20251026_000320[0m  [01;34më°”íƒ•í™”ë©´[0m
[01;32mrhel9_u01_u70_fullcheck_v02.sh[0m    [01;34mrhel9_unix_check_20251102_221538[0m  [01;34më¹„ë””ì˜¤[0m
[01;32mrhel9_u01_u70_fullcheck_v021.sh[0m   [01;34mrhel9_unix_check_20251102_221642[0m  [01;34mì‚¬ì§„[0m
[01;32mrhel9_u01_u70_fullcheck_v022a.sh[0m  [01;34mrhel9_unix_check_20251102_221922[0m  [01;34mì„œì‹[0m
[01;34mrhel9_unix_check_20251025_211324[0m  token.txt                         [01;34mìŒì•…[0m
[?2004h[onycom@master ~]$ 
[?2004l[?2004h[onycom@master ~]$ 
[?2004l[?2004h[onycom@master ~]$ ls ~/cka-study/logs
[?2004lcommands-20251104.log  session-20251104_0759.log
[?2004h[onycom@master ~]$ cat ~/cka-study/logs/session-20251104_0759.log 
[?2004lScript started on 2025-11-04 07:59:03+09:00 [TERM="xterm" TTY="/dev/pts/1" COLUMNS="90" LINES="46"]
bash: return: í•¨ìˆ˜ ë˜ëŠ” ì†ŒìŠ¤ëœ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ 'return' í•  ìˆ˜ ìžˆìŒ
[?2004h[onycom@master ~]$ 
[?2004lbash: return: í•¨ìˆ˜ ë˜ëŠ” ì†ŒìŠ¤ëœ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ 'return' í•  ìˆ˜ ìžˆìŒ
[?2004h[onycom@master ~]$ 
[?2004lbash: return: í•¨ìˆ˜ ë˜ëŠ” ì†ŒìŠ¤ëœ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ 'return' í•  ìˆ˜ ìžˆìŒ
[?2004h[onycom@master ~]$ cat .bashrc 
[?2004lbash: return: í•¨ìˆ˜ ë˜ëŠ” ì†ŒìŠ¤ëœ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ 'return' í•  ìˆ˜ ìžˆìŒ
# .bashrc

# Source global definitions
if [ -f /etc/bashrc ]; then
	. /etc/bashrc
fi

# User specific environment
if ! [[ "$PATH" =~ "$HOME/.local/bin:$HOME/bin:" ]]
then
    PATH="$HOME/.local/bin:$HOME/bin:$PATH"
fi
export PATH

# Uncomment the following line if you don't like systemctl's auto-paging feature:
# export SYSTEMD_PAGER=

# User specific aliases and functions
if [ -d ~/.bashrc.d ]; then
	for rc in ~/.bashrc.d/*; do
		if [ -f "$rc" ]; then
			. "$rc"
		fi
	done
fi

unset rc

# === per-command logger (ë¯¼ê°ì •ë³´ ë§ˆìŠ¤í‚¹) ===
LOG_DIR="$HOME/cka-study/logs"
mkdir -p "$LOG_DIR"
CMD_LOG="$LOG_DIR/commands-$(date +%Y%m%d).log"

_redact() {
  # í† í°/ë¹„ë²ˆ/í‚¤ ë¹„ìŠ·í•œ íŒ¨í„´ ë§ˆìŠ¤í‚¹
  sed -E \
    -e 's/(token|password|passwd|pwd|secret|apikey|api_key|Authorization|Bearer)[=: ]+[^ ]+/\1=****/Ig' \
    -e 's/(--password|-p)[= ]+[^ ]+/\1 ****/Ig' \
    -e 's/(id_ed25519|aws_secret_access_key|aws_access_key_id)[^ ]*/\1****/Ig'
}

# ížˆìŠ¤í† ë¦¬ ì˜µì…˜
export HISTTIMEFORMAT="%F %T  "
export HISTCONTROL=ignoredups:ignorespace
export PROMPT_COMMAND='history -a'

# ì§ì „ ëª…ë ¹ì„ ìº¡ì²˜í•´ íŒŒì¼ì— ëˆ„ì  (DEBUG íŠ¸ëž©)
trap 'RC=$?; CMD=$(history 1 | sed "s/^[ ]*[0-9]\+[ ]*//"); \
      echo "$(date "+%F %T") [$$] $(whoami)@$(hostname):$(pwd) -> $CMD" \
      | _redact >> "$CMD_LOG"; \
      return $RC' DEBUG

bash: return: í•¨ìˆ˜ ë˜ëŠ” ì†ŒìŠ¤ëœ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ 'return' í•  ìˆ˜ ìžˆìŒ
[?2004h[onycom@master ~]$ cat .bashrc sudo ./rhel9_u01_u70_fullcheck_v022a.sh[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cls[Ksudo ./rhel9_u01_u70_fullcheck_v022a.sh[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ccat .bashrc [K[Kcat .bashrc sudo ./rhel9_u01_u70_fullcheck_v022a.sh[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cls[Ksudo ./rhel9_u01_u70_fullcheck_v022a.sh[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ccat .bashrc [K[Kvi .bashrc
[?2004lbash: return: í•¨ìˆ˜ ë˜ëŠ” ì†ŒìŠ¤ëœ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ 'return' í•  ìˆ˜ ìžˆìŒ
[?1049h[22;0;0t[>4;2m[?1h=[?2004h[?1004h[1;46r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[46;1H".bashrc" 52L, 1344B[2;1Hâ–½[6n[2;1H  [3;1HPzz\[0%m[6n[3;1H           [1;1H[>c]10;?]11;?[1;1H[33mif ![m [35m[[[m [33m"[m[35m$PATH[m[33m"[m [33m=~[m [33m"[m[35m$HOME[m[31m/.local/bin:[m[35m$HOME[m[31m/bin:[m[33m"[m [35m]][m
[33mthen[m[2;5H[K[3;1H    [35mPATH[m[33m="[m[35m$HOME[m[31m/.local/bin:[m[35m$HOME[m[31m/bin:[m[35m$PATH[m[33m"[m[3;44H[K[4;1H[33mfi
export[m PATH

[34m# Uncomment the following line if you don't like systemctl's auto-paging feature:
# export SYSTEMD_PAGER=

# User specific aliases and functions[m
[33mif [[m [33m-d[m ~/.bashrc.d [33m];[m [33mthen[12;9Hfor[m rc [33min[m ~/.bashrc.d/*[33m;[m [33mdo[13;17Hif [[m [33m-f[m [33m"[m[35m$rc[m[33m"[m [33m];[m [33mthen[14;17H        . "[m[35m$rc[m[33m"[15;17Hfi[16;9Hdone
fi

unset[m[36m rc[m

[34m# === per-command logger (ë¯¼ê°ì •ë³´ ë§ˆìŠ¤í‚¹) ===[m
[36mLOG_DIR[m=[33m"[m[35m$HOME[m[31m/cka-study/logs[m[33m"
mkdir[m [35m-p[m [33m"[m[35m$LOG_DIR[m[33m"[m
[36mCMD_LOG[m=[33m"[m[35m$LOG_DIR[m[31m/commands-[m[35m$([m[35mdate +%Y%m%d[m[35m)[m[31m.log[m[33m"[m

[36m_redact() {[m
  [34m# í† í°/ë¹„ë²ˆ/í‚¤ ë¹„ìŠ·í•œ íŒ¨í„´ ë§ˆìŠ¤í‚¹[m
  [33msed[m [35m-E[m \
    [35m-e[m [33m'[m[31ms/(token|password|passwd|pwd|secret|apikey|api_key|Authorization|Bearer)[=: ]+[^ ]][30;1H+/\1=****/Ig[m[33m'[m \
    [35m-e[m [33m'[m[31ms/(--password|-p)[= ]+[^ ]+/\1 ****/Ig[m[33m'[m \
    [35m-e[[?2004h[onycom@master ~]$ 2RR0;136;0c2RR0;136;0c2RR0;136;0c2RR0;136;0c
[?2004lbash: 2RR0: ëª…ë ¹ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤...
bash: 136: ëª…ë ¹ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤...

bash: 0c2RR0: ëª…ë ¹ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤...
bash: 136: ëª…ë ¹ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤...
bash: 0c2RR0: ëª…ë ¹ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤...
bash: 136: ëª…ë ¹ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤...
bash: 0c2RR0: ëª…ë ¹ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤...
bash: 136: ëª…ë ¹ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤...
bash: 0c: ëª…ë ¹ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤...
[?2004h[onycom@master ~]$ 
[?2004l[?2004h[onycom@master ~]$ 
[?2004l[?2004h[onycom@master ~]$ q[K^C[?2004l[?2004h[?2004l
[?2004h[onycom@master ~]$ ^C[?2004l[?2004h[?2004l
[?2004h[onycom@master ~]$ ^C[?2004l[?2004h[?2004l
[?2004h[onycom@master ~]$ ^C[?2004l[?2004h[?2004l
[?2004h[onycom@master ~]$ ^C[?2004l[?2004h[?2004l
[?2004h[onycom@master ~]$ asdf[K[K[Ke[K[Kexit
[?2004lexit

Script done on 2025-11-04 08:06:04+09:00 [COMMAND_EXIT_CODE="130"]
